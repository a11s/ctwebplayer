function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,_toPropertyKey(t.key),t)}}function _createClass(e,n,a){return n&&_defineProperties(e.prototype,n),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,n,a){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===n?String:Number)(e);a=a.call(e,n||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}function _regenerator(){var g,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",a=e.toStringTag||"@@toStringTag";function t(e,n,a,t){var o,i,r,s,c,l,d,p,u,n=n&&n.prototype instanceof _?n:_,n=Object.create(n.prototype);return _regeneratorDefine2(n,"_invoke",(o=e,i=a,d=t||[],p=!1,u={p:l=0,n:0,v:g,a:f,f:f.bind(g,4),d:function(e,n){return r=e,s=0,c=g,u.n=n,v}},function(e,n,a){if(1<l)throw TypeError("Generator is already running");for(p&&1===n&&f(n,a),s=n,c=a;(m=s<2?g:c)||!p;){r||(s?s<3?(1<s&&(u.n=-1),f(s,c)):u.n=c:u.v=c);try{if(l=2,r){if(m=r[e=s?e:"next"]){if(!(m=m.call(r,c)))throw TypeError("iterator result is not an object");if(!m.done)return m;c=m.value,s<2&&(s=0)}else 1===s&&(m=r.return)&&m.call(r),s<2&&(c=TypeError("The iterator does not provide a '"+e+"' method"),s=1);r=g}else if((m=(p=u.n<0)?c:o.call(i,u))!==v)break}catch(e){r=g,s=1,c=e}finally{l=1}}return{value:m,done:p}}),!0),n;function f(e,n){for(s=e,c=n,m=0;!p&&l&&!a&&m<d.length;m++){var a,t=d[m],o=u.p,i=t[2];3<e?(a=i===n)&&(c=t[(s=t[4])?5:s=3],t[4]=t[5]=g):t[0]<=o&&((a=e<2&&o<t[1])?(s=0,u.v=n,u.n=t[1]):o<i&&(a=e<3||t[0]>n||i<n)&&(t[4]=e,t[5]=n,u.n=i,s=0))}if(a||1<e)return v;throw p=!0,n}}var v={};function _(){}function o(){}function i(){}var m=Object.getPrototypeOf,e=[][n]?m(m([][n]())):(_regeneratorDefine2(m={},n,function(){return this}),m),r=i.prototype=_.prototype=Object.create(e);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,_regeneratorDefine2(e,a,"GeneratorFunction")),e.prototype=Object.create(r),e}return _regeneratorDefine2(r,"constructor",o.prototype=i),_regeneratorDefine2(i,"constructor",o),_regeneratorDefine2(i,a,o.displayName="GeneratorFunction"),_regeneratorDefine2(r),_regeneratorDefine2(r,a,"Generator"),_regeneratorDefine2(r,n,function(){return this}),_regeneratorDefine2(r,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:t,m:s}})()}function _regeneratorDefine2(e,n,a,t){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(_regeneratorDefine2=function(e,n,a,t){function o(n,a){_regeneratorDefine2(e,n,function(e){return this._invoke(n,a,e)})}n?i?i(e,n,{value:a,enumerable:!t,configurable:!t,writable:!t}):e[n]=a:(o("next",0),o("throw",1),o("return",2))})(e,n,a,t)}function asyncGeneratorStep(e,n,a,t,o,i,r){try{var s=e[i](r),c=s.value}catch(e){return void a(e)}s.done?n(c):Promise.resolve(c).then(t,o)}function _asyncToGenerator(s){return function(){var e=this,r=arguments;return new Promise(function(n,a){var t=s.apply(e,r);function o(e){asyncGeneratorStep(t,n,a,o,i,"next",e)}function i(e){asyncGeneratorStep(t,n,a,o,i,"throw",e)}o(void 0)})}}function closeBtn(e){$("#".concat(e)).hide(),$("body").removeClass("noscroll")}function showBtn(e){$("#".concat(e)).show(),$("body").addClass("noscroll")}function popupAgeVerify(){return new Promise(function(e){$("body").hasClass("safe-mode")||window.sessionStorage.getItem("age-verify")?(closeBtn("ageVerify"),e()):showBtn("ageVerify"),$("#age-verify").click(function(){window.sessionStorage.setItem("age-verify",!0),closeBtn("ageVerify"),e()}),$("#age-decline").click(function(){history.go(-1)})})}function popupAgeVerifyWithBirth(){return new Promise(function(o){var e;$("body").hasClass("safe-mode")||(e=getCookie("erolabsAgeVerifyHideToday"),getFormatDateNoTime(new Date)===e)||window.sessionStorage.getItem("age-verify")?(closeBtn("ageVerifyWithBirth"),o()):showBtn("ageVerifyWithBirth"),$("#age-verify-birth").on("click",function(){var e=parseInt($("#year").val(),10),n=parseInt($("#month").val(),10)-1,a=parseInt($("#day").val(),10),t=getFormatDateNoTime(new Date);$("#age-verify-hide-today").is(":checked")&&setCookie("erolabsAgeVerifyHideToday",t),setCookie("erolabsAgeVerifyLastEnterBirth","".concat(e,"-").concat(1+n,"-").concat(a)),window.sessionStorage.setItem("age-verify",!0),closeBtn("ageVerifyWithBirth"),o()}),$("#age-decline-birth").on("click",function(){history.go(-1)})})}function setAgeVerifyWithBirth(){return new Promise(function(e){function n(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];setTimeout(function(){for(var e="",n=parseInt($("#year").val()),a=parseInt($("#month").val()),t=new Date(n,a,0).getDate(),o=1;o<=t;o++)e+='<li class="form__option" data-value="'.concat(o,'" onclick="judgeCanEnter()">').concat(o,"</li>");$("#ageInput_day").html(e),setAgeVerifyWithBirthDropdown()},0),e&&($("#inputDay").val("1"),$("#day").val("1"))}function a(){setTimeout(function(){var e,n=parseInt($("#year").val(),10),a=parseInt($("#month").val(),10)-1,t=parseInt($("#day").val(),10);!(isNaN(n)||isNaN(a)||isNaN(t))&&(n=new Date(n,a,t),t=(a=new Date).getFullYear()-n.getFullYear(),e=a.getMonth()-n.getMonth(),a=a.getDate()-n.getDate(),18<t||18==t&&(0<e||0==e&&0<=a))?$("#age-verify-birth").removeClass("button_disable").addClass("button_full").prop("disabled",!1):$("#age-verify-birth").removeClass("button_full").addClass("button_disable")},0)}window.updateDaysOptions=n,window.judgeCanEnter=a;for(var t=(new Date).getFullYear(),o=t-17,i="",r="",s=t-150;s<=t;s++)i+='<li class="form__option" data-value="'.concat(s,'" onclick="updateDaysOptions();judgeCanEnter()">').concat(s,"</li>");for(var c=1;c<=12;c++)r+='<li class="form__option" data-value="'.concat(c,'" onclick="updateDaysOptions();judgeCanEnter()">').concat(c,"</li>");var l=getCookie("erolabsAgeVerifyLastEnterBirth").split("-"),o=l[0]||o,d=l[1]||1,l=l[2]||1,o='\n    <div class="dialog" id="ageVerifyWithBirth">      \n      <div class="dialog_container">\n        <div class="dialog_containerBox">\n          <h2 class="dialog_title" data-i18n="age.question"></h2>\n          <div class="dialog_mainBox">\n            <p class="dialog_main" data-i18n="[html]age.warningWithBirth"></p>\n          </div>      \n          <div class="age_box">\n            <div class="age_text">\n              <span class="age_textTitle" data-i18n="age.birthdayInput"></span><br>\n              <span class="age_textNote" data-i18n="age.birthdayNote"></span>\n            </div>\n            <div class="age_input">\n              <div class="form__input form__dropdown">\n                <input class="form__dropdownInput" readonly required data-i18n="[placeholder]age.year" id="inputYear" value="'.concat(o,'">\n                <input class="form__inputHidden" required type="hidden" name="ageYear" id="year" value="').concat(o,'">\n                <i class="fas fa-caret-down"></i>\n                <ul class="form__options" id="ageInput_year">\n                  ').concat(i,'\n                </ul>\n              </div>\n              <div class="form__input form__dropdown">\n                <input class="form__dropdownInput" readonly required data-i18n="[placeholder]age.month" id="inputMonth" value="').concat(d,'">\n                <input class="form__inputHidden" required type="hidden" name="ageMonth" id="month" value="').concat(d,'">\n                <i class="fas fa-caret-down"></i>\n                <ul class="form__options" id="ageInput_month">\n                  ').concat(r,'\n                </ul>\n              </div>\n              <div class="form__input form__dropdown">\n                <input class="form__dropdownInput" readonly required data-i18n="[placeholder]age.day" id="inputDay" value="').concat(l,'">\n                <input class="form__inputHidden" required type="hidden" name="ageDay" id="day" value="').concat(l,'">\n                <i class="fas fa-caret-down"></i>\n                <ul class="form__options" id="ageInput_day"></ul>\n              </div>\n            </div>    \n            <div class="hide_checkBox">\n              <li class="hide_check">\n                <input id="age-verify-hide-today" type="checkbox" name="hideToday" value="hideToday">\n                <label for="hideToday" data-i18n="common.hideToday"></label>\n              </li>\n            </div>  \n          </div>\n          <div class="dialog_buttonBox">\n            <button id="age-decline-birth" class="dialog_button button_minor" data-i18n="age.declineWithBirth"></button>\n            <button id="age-verify-birth" class="dialog_button button_disable" data-i18n="age.confirmWithBirth"></button>\n          </div>\n        </div>\n      </div>\n    </div>');$("body").append(o),$("#ageVerifyWithBirth").localize(),setAgeVerifyWithBirthDropdown(),n(!1),a(),e(),$("#inputYear").on("click",function(){setTimeout(function(){var e=$("#year").val(),n=$("#ageInput_year"),e=n.find('.form__option[data-value="'.concat(e,'"]')),a=768<window.innerWidth?-50:-40;e.length&&n.scrollTop(e.position().top+n.scrollTop()+a)},10)})})}function getCountryCode(){return _getCountryCode.apply(this,arguments)}function _getCountryCode(){return(_getCountryCode=_asyncToGenerator(_regenerator().m(function e(){var n;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,$.get(baseUrl+"/getCountryCode");case 1:return e.a(2,e.v);case 2:return e.p=2,n=e.v,console.error(n),e.a(2,{})}},e,null,[[0,2]])}))).apply(this,arguments)}function getCaptchaImg(){return _getCaptchaImg.apply(this,arguments)}function _getCaptchaImg(){return(_getCaptchaImg=_asyncToGenerator(_regenerator().m(function e(){var n;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,$.get("".concat(baseUrl,"/v2/captcha/image"));case 1:return n=e.v,e.a(2,n.data.url)}},e)}))).apply(this,arguments)}function setAgeVerifyWithBirthDropdown(){$("#ageVerifyWithBirth .form__dropdown").off("click"),$("#ageVerifyWithBirth .form__dropdown").click(function(){$(this).toggleClass("form__dropdown--open")}),$("#ageVerifyWithBirth .form__option").off("click"),$("#ageVerifyWithBirth .form__option").click(function(){var e=$(this).parent();e.siblings(".form__dropdownInput").val($(this).text()),e.siblings(".form__inputHidden").val($(this).data("value")),e.siblings(".form__inputHidden").val($(this).attr("data-value"))})}var popupPreferenceSelect,popupPreferenceCheck,countryCode;function setUserInfoHtml(){return _setUserInfoHtml.apply(this,arguments)}function _setUserInfoHtml(){return(_setUserInfoHtml=_asyncToGenerator(_regenerator().m(function e(){var n,a,t,o,i,r,s;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,renewUserInfo();case 1:if("SUCCESS"!==(n=e.v).status)return e.a(2);e.n=2;break;case 2:r=n.data,s=r.coins,a=r.freeCoins,t=r.isTodayCheckin,o=r.account,i=r.avatar,r=r.avatarFrame,s=parseInt(s)+parseInt(a),$("#navMsgSelector").show(),$("#navCheckinBtn").show(),t||$("#navCheckinNoCheck").show(),$("#login_account").html(o),$("#total_coins").html('<span id="navCoin"></span>'+s),$("#navAccount").addClass("loggedIn"),$("#navAccount").removeClass("loggedOut"),$("#navProfileAvatar").html('\n  <a id="profileMenuButton">\n    <div class="nav_user">\n      <img class="photo-frame" src="'.concat(r,'" onerror="this.src=\'../assets/images/profile/frame_rank_0.png\'" alt="user frame" />\n      <img src="').concat(i,'" onerror="this.src=\'../assets/images/profile/avatar00.jpg\'" alt="">\n    </div>\n  </a>\n  ')),setProfileMenu(n.data),menuTitleHandler(),renderNavMessage(!0);case 3:return e.a(2)}},e)}))).apply(this,arguments)}function renewUserInfo(){var f=getCookie("erolabsjwt");return $.get("".concat(baseUrl,"/v2/accountManagement/userInfo"),function(e){var n,a,t,o,i,r,s,c,l,d,p,u;"SUCCESS"===e.status&&(u=(e=e.data).coins,n=e.freeCoins,a=e.account,t=e.nickName,o=e.userId,i=e.articleEndDate,r=e.reportEndDate,s=e.forumEndDate,c=e.avatar,l=e.avatarFrame,d=e.grade,p=e.isPlus,e=e.signupDate,u=parseInt(u)+parseInt(n),setCookie("erolabsjwt",f),setCookie("erolabsaccount",a),setCookie("erolabsnickname",t),setCookie("erolabsuserid",o),setCookie("postRight",i),setCookie("reportRight",r),setCookie("forumRight",s),setCookie("erolabsAvatar",c),setCookie("erolabsAvatarFrame",l),setCookie("erolabsgrade",d),setCookie("erolabsgradeisplus",p),setCookie("erolabscoins",u),judgeRegistrationIsFull(e))})}function openLoginMenu(){$("body").toggleClass("masked"),$("#popupLoginMenu").fadeIn(100),$(".popup_container").addClass("active")}function closeLoginMenu(){$("#popupLoginMenu").fadeOut(100),$("body").removeClass("masked"),$(".popup_container").removeClass("active")}function openSettingMenu(){$("body").toggleClass("masked"),$("#popupSetting").fadeIn(100),$(".popup_container").addClass("active")}function closeSettingMenu(){$("#popupSetting").fadeOut(100),$("body").removeClass("masked"),$(".popup_container").removeClass("active")}function openProfileMenu(){$("body").toggleClass("masked"),$("#popupProfileMenu").fadeIn(100),$(".popup_container").addClass("active")}function closeProfileMenu(){$("#popupProfileMenu").fadeOut(100),$("body").removeClass("masked"),$(".popup_container").removeClass("active")}function setProfileMenu(e){$("body").append('\n\t\t\x3c!-- popup profile --\x3e\n    <div id="popupProfileMenu" class="popup" style="display:none">\n      <div class="popup_container popup_container--sidebar">\n        <div>\n          <section class="profile-munu-popup">\n            <div class="popup_title popup_title--nounderline">\n              <button class="popup_closeBtn"></button>\n            </div>\n            \n            <div class="profile-aside__avatar">\n              <div class="profile-aside__left">\n                <div id="changeAvatar-btn" class="photoBox">\n                  <img id="photo-frame" class="photo-frame" src="../assets/images/profile/frame_rank_0.png" alt="user frame">\n                  <img id="photo" class="photo" src="../assets/images/avatar.png"   alt="56x56" />\n                </div>\n              </div>\n              <div class="profile-aside__right">\n                <div class="profile-popup_userData">                          \n                  <span class="name" id="info_account"></span>\n                  <span class="user-lv" id="info_lv"></span>\n                </div>\n              </div>\n            </div>\n\n            <div class="ecoin__title rofile-aside__avatar profile-aside__point-status cell menu_title" data-target="#popupEcoinMenu">\n              <span class="pointStatus_label" data-i18n="profile.honey-p"></span>\n              <div class="ecoin__label">\n                <span class="pointStatus_amount" id="info_coins"></span>\n                <span class="arrow">▶</span>\n              </div>\n            </div>\n\n            <ul id="popupEcoinMenu" class="ecoin__options menu_options" style="display: none;">\n              <li class="pointStatus_detail">\n                <div class="pointStatus_label" data-i18n="profile.honey-p-real"></div>\n                <div id="coins"></div>\n              </li>\n              <li class="pointStatus_detail">\n                <div class="pointStatus_label" data-i18n="profile.honey-p-free"></div>\n                <div id="free_coins"></div>\n              </li>\n              <li class="pointStatus_detail">\n                <div class="pointStatus_label" data-i18n="profile.honey-p-free-30day"></div>\n                <div id="expire_free_coins"></div>\n              </li>\n            </ul>\n\n            <div class="profile-aside__list">\n              <a href="./user-home.html" class="cell">\n                <span data-i18n="profile.user"></span>\n                <span class="arrow">▶</span>\n              </a>\n              <a href="./profile.html" class="cell">\n                <span data-i18n="profile.account-information"></span><span class="arrow">▶</span>\n              </a>\n              <a href="./profile-subscription.html" class="cell">\n                <span data-i18n="subscription.title"></span><span class="arrow">▶</span>\n              </a>\n              <a href="./profile-activity.html" class="cell">\n                <span data-i18n="profile.activity"></span><span class="arrow">▶</span>\n              </a>\n              <a href="./profile-promote.html" class="cell">\n              <span class="tags__span">\n                <span data-i18n="profile.promote"></span>\n              </span>\n              <span class="arrow">▶</span>\n              </a>\n              <a href="./charge.html" class="cell">\n                <span data-i18n="profile.add-honey-p"></span><span class="arrow">▶</span>\n              </a>\n              <a href="./profile-redeem-code.html" class="cell">\n                <span data-i18n="profile.redeem-code"></span><span class="arrow">▶</span>\n              </a>\n              <ul class="cell">\n                <div class="record_menu__title menu_title" data-target="#popupRecordMenu">\n                  <span data-i18n="profile.record"></span><span class="arrow">▶</span>\n                </div>\n                <ul id="popupRecordMenu" class="record_menu__options menu_options" style="display: none;">\n                  <a href="./profile-charge-record.html">\n                    <li data-i18n="profile.charge-record"></li>\n                  </a>\n                  <a href="./profile-pay-record.html">\n                    <li data-i18n="profile.pay-record"></li>\n                  </a>\n                  <a href="./profile-subscription-record.html">\n                    <li data-i18n="profile.account-subscription-record"></li>\n                  </a>\n                  <a href="./profile-coupon-record.html">\n                    <li data-i18n="profile.member-record"></li>\n                  </a>\n                </ul>\n              </ul>\n            </div>\n            <a href="#" onclick="accountLogout(); return false;" data-i18n="profile.logout" class="profile-aside__logout"></a>            \n          </section>\n        </div>\n      </div>\n      <div id="profile_pop_bg" class="popup_bg"></div>\n    </div>\n\t\t\x3c!-- End popup profile --\x3e\n\n\t\t\x3c!-- Change Avatar --\x3e\n\t\t<div id="changeAvatar" class="popup" style="display:none">\n      <div id="changeAvatar__container" class="popup_container popup_container--L">\n        <div>\n          <h2 data-i18n="profile.select_avatar"></h2>\n          <div class="changeAvatar_content">\n            <div class="changeAvatar_main">\n              <div class="changeAvatar_photoBox">\n                <img class="changeAvatar_photo-frame" src="../assets/images/profile/frame_rank_0.png" alt="user frame" />\n                <img class="changeAvatar_preview" src="../assets/images/profile/avatar00.jpg" alt="" />  \n              </div>\n              <h2 data-i18n="profile.preview"></h2>\n            </div>\n            <div class="changeAvatar_sub">\n              <div id="changeAvatar_introTabs">\n                <h2 class="changeAvatar_introTab changeAvatar_introTab--left active" data-i18n="profile.profile_pic"></h2>\n                <h2 class="changeAvatar_introTab changeAvatar_introTab--right" data-i18n="profile.profile_frame"></h2>\n              </div>\n              <ul class="changeAvatar_list js-changeAvatar__introContent--left"></ul>\n              <ul class="changeAvatar_list js-changeAvatar__introContent--right"></ul>\n            </div>\n          </div>\n          <div class="changeAvatar_buttonBox">\n            <button id="changeAvatar-decline" class="changeAvatar_btn button_minor" data-i18n="common.cancel"></button>\n            <button id="changeAvatar-verify" class="changeAvatar_btn button_full" data-i18n="common.confirm"></button>\n          </div>\n        </div>\n      </div>\n\t\t\t<div id="changeAvatar_pop_bg" class="popup_bg"></div>\n    </div>\n    \x3c!-- end Change Avatar --\x3e'),$("#popupProfileMenu").localize(),$("#changeAvatar").localize(),$("#profileMenuButton").on("click",function(){openProfileMenu()}),$(".popup_closeBtn").click(function(){closeProfileMenu()}),$(".popup_bg").click(function(){closeProfileMenu()}),setProfileMenuInfo(e,"profile-munu-popup"),setProfileMenuInfo(e,"profile-aside"),setProfileMenuInfo(e,"profile-subNavBar")}function menuTitleHandler(){$(".menu_title").off("click").on("click",function(e){e.stopPropagation(),e=$(this).data("target"),$(".menu_options").slideUp(),$(".menu_title").removeClass("unRadiusOpen"),$(e).is(":visible")?$(e).slideUp():($(e).slideDown(),$(this).addClass("unRadiusOpen"))})}function accountLogout(){var e=getCookie("erolabsjwt"),n=(""==e&&(e=localStorage.getItem("erolabsjwt")),getCookie("erolabsaccount"));""==n&&(n=localStorage.getItem("erolabsaccount")),$.post(baseUrl+"/v2/logout",{jwt:e,account:n},function(e){e.data;"SUCCESS"==e.status&&(setCookie("erolabsAvatar",""),setCookie("erolabsAvatarFrame",""),setCookie("erolabsgrade",""),setCookie("erolabsgradeisplus",""),setCookie("postRight",""),setCookie("reportRight",""),setCookie("forumRight",""),setCookie("erolabsjwt",""),setCookie("erolabsaccount",""),setCookie("erolabsnickname",""),setCookie("erolabsuserid",""),location.href="index.html")}).fail(function(e){setCookie("erolabsAvatar",""),setCookie("erolabsAvatarFrame",""),setCookie("erolabsgrade",""),setCookie("erolabsgradeisplus",""),setCookie("postRight",""),setCookie("reportRight",""),setCookie("forumRight",""),setCookie("erolabsjwt",""),setCookie("erolabsaccount",""),setCookie("erolabsnickname",""),setCookie("erolabsuserid",""),location.href=url})}function setProfileMenuInfo(e,n){var a=e.grade||"bronze",t="",o=(e.isPlus&&(t="+"),parseInt(e.coins)+parseInt(e.freeCoins));$(".".concat(n," #info_account")).html(e.account),$(".".concat(n," #info_lv")).html('\n    <img class="icon-'.concat(a,'" src="../assets/images/profile/badge_').concat(a,'.svg" alt="').concat(a,'">\n    <span class="text-').concat(a,'">').concat(i18next.t("profile.".concat(a,"_member"))).concat(t,"</span>\n  ")),$(".".concat(n," #info_coins")).html(o),$(".".concat(n," #coins")).html(e.coins),$(".".concat(n," #free_coins")).html(e.freeCoins),$(".".concat(n," #expire_free_coins")).html(e.expireFreeCoins),$(".".concat(n," #changeAvatar-btn")).html('\n    <img id="photo-frame" class="photo-frame" src="'.concat(e.avatarFrame,'" onerror="this.src=\'../assets/images/profile/frame_rank_0.png\'" alt="user frame" data-value="').concat(e.avatarFrameId,'" />\n    <img id="photo" class="photo" src="').concat(e.avatar,'" onerror="this.src=\'../assets/images/profile/avatar00.jpg\'" data-value="').concat(e.avatarId,'" />\n  ')),setOpanAvatarJq(n)}function setAvatarSelectJq(){$(".changeAvatar_list.js-changeAvatar__introContent--left li").click(function(){$(".changeAvatar_list.js-changeAvatar__introContent--left li").removeClass("active"),$(this).addClass("active");var e=$(this).find("img").attr("src");$(".changeAvatar_preview").attr("src",e)}),$(".changeAvatar_list.js-changeAvatar__introContent--right li").click(function(){$(".changeAvatar_list.js-changeAvatar__introContent--right li").removeClass("active"),$(this).addClass("active");var e=$(this).find("img").attr("src");$(".changeAvatar_photo-frame").attr("src",e)}),$("#changeAvatar-decline").click(function(){$("#changeAvatar").fadeOut(200)}),$("#changeAvatar_pop_bg").click(function(){$("#changeAvatar").fadeOut(200)}),$("#changeAvatar-verify").unbind(),$("#changeAvatar-verify").click(function(){var n=null,a=null;$(".changeAvatar_list--item").toArray().forEach(function(e){$(e).hasClass("active")&&(n=$(e).attr("data-value"))}),$(".changeAvatar_list--itemFrame").toArray().forEach(function(e){$(e).hasClass("active")&&(a=$(e).attr("data-value"))}),$.post("".concat(baseUrl,"/v2/accountManagement/userInfo/avatar/edit"),{lang:lang,avatarId:n,avatarFrameId:a},function(e){"0000"===e.data.code&&location.reload()}).catch(function(e){e=e.responseJSON;e.data&&notification({title:e.data.message})})})}function sortList(e){function a(e){var n=0;switch(e.isActivate&&(n+=100),e.grade){case"bronze":--n;break;case"silver":n-=2;break;case"gold":n-=3;break;case"diamond":n-=4}return n}return e.sort(function(e,n){return a(n)-a(e)})}function setOpanAvatarJq(e){$(".".concat(e," #changeAvatar-btn")).click(function(){$.post(baseUrl+"/getAvatar",function(e){var a="",t="";e.avatarList.forEach(function(e){var n="";$("#photo").attr("data-value")==e.avatar_id?(n="active",$(".changeAvatar_preview").attr("src",e.avatar)):n="",a+='\n        <li class="changeAvatar_list--item '.concat(n,"\" data-value='").concat(e.avatar_id,"'>\n          <picture>\n            <img src=\"").concat(e.avatar,'" alt="logo" />\n          </picture>\n        </li>')}),sortList(e.avatarFrameList).forEach(function(e){var n="",a=($("#photo-frame").attr("data-value")==e.avatar_frame_id?(n="active",$(".changeAvatar_photo-frame").attr("src",e.avatar_frame)):n="","");e.isActivate||(a="opacity:0.2"),t+='\n        <li class="changeAvatar_list--itemFrame '.concat(n,'" style="').concat(a,'" data-value="').concat(e.avatar_frame_id,'">\n          <picture>\n            <img src="').concat(e.avatar_frame,'" alt="frame rank">\n          </picture>\n        </li>')}),$(".changeAvatar_list.js-changeAvatar__introContent--left").html(a),$(".changeAvatar_list.js-changeAvatar__introContent--right").html(t),$("#changeAvatar").fadeIn(200),$(".changeAvatar_list").hide(),$(".js-changeAvatar__introContent--left").show(),$(".changeAvatar_introTab").removeClass("active"),$(".changeAvatar_introTab--left").addClass("active"),$(".changeAvatar_introTab").click(function(){$(".changeAvatar_introTab").removeClass("active"),$(this).addClass("active"),$(".changeAvatar_list").hide(),($(this).hasClass("changeAvatar_introTab--left")?$(".js-changeAvatar__introContent--left"):$(".js-changeAvatar__introContent--right")).show()}),setAvatarSelectJq()})})}function judgeRegistrationIsFull(e){e&&(e=e.replace(/\-/g,"/"),e=new Date(e).getTime(),Date.now()-e<2592e5)&&(e=new Date(e+2592e5),setCookie("registrationNotFullTill",e.toISOString().split("T")[0]))}function removeLoadingShowMainContent(){$(".loading_opacity_visibility_false").each(function(){$(this).removeClass("loading_opacity_visibility_false"),$(this).addClass("opacity_visibility_true")}),setTimeout(function(){$("#pageLoading").hide()},600),$("#pageLoading").fadeOut(500)}function showLoadingShowMainContent(){$(".loading_opacity_visibility_false").each(function(){$(this).addClass("loading_opacity_visibility_false"),$(this).removeClass("opacity_visibility_true")}),$("#pageLoading").show()}function openiOSAddDesktop(){navigator.standalone||($("#popupiOSAddDesktop").fadeIn(100),$("#popupiOSAddDesktop .popup_container--bottom").css("transform","translateY(0)"))}function openAndroidAddDesktop(){navigator.standalone||($("#popupAndroidAddDesktop").fadeIn(100),$("#popupAndroidAddDesktop .popup_container--bottom").css("transform","translateY(0)"))}function closeiOSAddDesktop(){$("#popupiOSAddDesktop").hide(),$("#popupiOSAddDesktop .popup_container--bottom").hide()}function closeAndroidAddDesktop(){$("#popupAndroidAddDesktop").hide(),$("#popupAndroidAddDesktop .popup_container--bottom").hide()}function notification(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error",a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5,t=parseInt(Date.now()),o="",i="";e.content&&(o="<p>".concat(e.content,"</p>")),e.title&&(i="<h1>".concat(e.title,"</h1>")),$("body").append("\n    <div class='notification' id='".concat(t,"'>\n        <div class='notification__content notification__content--").concat(n,"'>\n            <i class='fas fa-exclamation-circle'></i>\n            <div class='notification__text'>\n                ").concat(i,"\n                ").concat(o,"\n            </div>\n        </div>\n    </div>")),setTimeout(function(){$("#".concat(t)).remove()},1e3*a)}function appendDialog(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=parseInt(Date.now());$("body").append('\n  <div id="'.concat(a,'" class="popup">\n    <div class="popup_container" style="').concat(n,'">\n      <div>\n        <h2>').concat(e.title,"</h2>\n        <p>").concat(e.content,'</p>\n      </div>\n    </div>\n    <div class="popup_bg" onclick="removeDialog(').concat(a,')"></div>\n  </div>\n  '))}function removeDialog(e){$("#".concat(e)).remove()}function getFormatFromNow(e){var n=e;if(!(1<arguments.length&&void 0!==arguments[1])||arguments[1]){if(!/^((\d{2}(([02468][048])|([13579][26]))[\-\/\s]?((((0?[13578])|(1[02]))[\-\/\s]?((0?[1-9])|([1-2][0-9])|(3[01])))|(((0?[469])|(11))[\-\/\s]?((0?[1-9])|([1-2][0-9])|(30)))|(0?2[\-\/\s]?((0?[1-9])|([1-2][0-9])))))|(\d{2}(([02468][1235679])|([13579][01345789]))[\-\/\s]?((((0?[13578])|(1[02]))[\-\/\s]?((0?[1-9])|([1-2][0-9])|(3[01])))|(((0?[469])|(11))[\-\/\s]?((0?[1-9])|([1-2][0-9])|(30)))|(0?2[\-\/\s]?((0?[1-9])|(1[0-9])|(2[0-8]))))))(\s((([0-1][0-9])|(2?[0-3]))\:([0-5]?[0-9])((\s)|(\:([0-5]?[0-9])))))?$/.test(e))return"-";n=e.replace(/\-/g,"/")}e=new Date(n).getTime()/1e3;function a(e){return(1==String(e).length?"0":"")+e}var n=parseInt((new Date).getTime()/1e3),t=n-e,o=new Date(1e3*n),e=new Date(1e3*e),i=e.getFullYear(),r=e.getMonth()+1,s=e.getDate(),c=e.getHours(),l=e.getMinutes();e.getSeconds();return t<60?i18next.t("forum.common.just_now"):t<3600?Math.floor(t/60)+" "+i18next.t("forum.common.min_ago"):o.getFullYear()==i&&o.getMonth()+1==r&&o.getDate()==s?i18next.t("forum.common.today")+" "+a(c)+":"+a(l):(e=new Date(1e3*(n-86400))).getFullYear()==i&&e.getMonth()+1==r&&e.getDate()==s?i18next.t("forum.common.yesterday")+" "+a(c)+":"+a(l):o.getFullYear()==i?a(r)+"-"+a(s)+" "+a(c)+":"+a(l):i+"-"+a(r)+"-"+a(s)+" "+a(c)+":"+a(l)}function getFormatDate(e){var n=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,0),t=e.getDate().toString().padStart(2,0),o=e.getHours().toString().padStart(2,0),i=e.getMinutes().toString().padStart(2,0),e=e.getSeconds().toString().padStart(2,0);return"".concat(n,"/").concat(a,"/").concat(t," ").concat(o,":").concat(i,":").concat(e)}function getFormatDateNoTime(e){var n=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,0),e=e.getDate().toString().padStart(2,0);return"".concat(n,"/").concat(a,"/").concat(e)}$(document).ready(_asyncToGenerator(_regenerator().m(function e(){var n,a;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:_asyncToGenerator(_regenerator().m(function e(){var n;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if("webgl"!==getParameterByName("type"))return e.n=1,getCountryCode();e.n=5;break;case 1:if(n=e.v,"TW"==(countryCode=n.countryCode))return e.n=2,setAgeVerifyWithBirth();e.n=4;break;case 2:return e.n=3,popupAgeVerifyWithBirth();case 3:e.n=5;break;case 4:return e.n=5,popupAgeVerify();case 5:return n=new PreferenceDataLayer,e.n=6,n.init();case 6:return e.n=7,null==popupPreferenceSelect?void 0:popupPreferenceSelect();case 7:return e.n=8,null==popupPreferenceCheck?void 0:popupPreferenceCheck();case 8:initSidebarPreferenceBtn();case 9:return e.a(2)}},e)}))(),$(window).scroll(function(){100<$(this).scrollTop()?$("body").addClass("nav--scroll"):$("body").removeClass("nav--scroll")}),$("#navCheckinBtn").click(function(){location.href="profile-checkin.html"}),n=$("#nav__menu"),$("#nav__menuBar").click(function(){n.removeClass("nav__menu--close"),n.addClass("nav__menu--open"),$("body").addClass("hide-iframe masked")}),$(".nav__menu--close #nav__menuCloseBtn").click(function(){n.removeClass("nav__menu--open"),n.addClass("nav__menu--close"),$("body").removeClass("hide-iframe masked")}),$("#btn__scrollTop").click(function(){window.scrollTo({top:0,behavior:"smooth"})}),$("#nav-to-safe-mode").click(function(){var e="",e=$("#game").length?"../safe/games/":$("#news").length?"../safe/news/":"./safe/";window.location=e+window.location.pathname.split("/").pop()}),$("#nav-to-18x-mode").click(function(){var e="",e=$("#game").length||$("#news").length?"../../":"../";window.location=e+window.location.pathname.split("/safe/").pop()}),$(".dropdown__selection h2, .dropdown__selection .fa-play").click(function(){$(this).parent(".dropdown__selection").toggleClass("active")}),$(".dropdown__selection button.mobile").click(function(){!$(".dropdown__selection").hasClass("active")||$(this).parent(".dropdown__selection").hasClass("active")?($(this).parent(".dropdown__selection").toggleClass("active"),$("body").toggleClass("masked")):($(".dropdown__selection").removeClass("active"),$(this).parent(".dropdown__selection").toggleClass("active"),$("body").hasClass("masked"))}),$(".form__dropdown").on("click",function(e){$(".form__dropdown--open")[0]&&($(".form__dropdown--open").removeClass("form__dropdown--open"),e.target.className.includes("form__option"))?$(".form__dropdown--open").removeClass("form__dropdown--open"):$(this).addClass("form__dropdown--open")}),$(".form__option").click(function(){var e=$(this).parent();e.siblings(".form__dropdownInput").val($(this).text().trim()),e.siblings(".form__inputHidden").val($(this).data("value")),e.siblings(".form__inputHidden").val($(this).attr("data-value"))}),a=i18next.t("common.".concat(lang)),$("body").append('\n    <div id="popupLoginMenu" class="popup" style="display:none">\n      <div class="popup_container popup_container--sidebar">\n        <div>\n          <section class="profile-munu-popup">\n            <div class="popup_title popup_title--nounderline">\n              <button class="popup_closeBtn"></button>\n            </div>\n            <a href="./login.html" class="form__btn" data-i18n="common.login"></a>\n            <div class="form__warning u-mt-4">\n              <span data-i18n="account.agree_pre"></span>\n              <a href="./privacy.html" target="_blank" rel="noopener noreferrer" data-i18n="common.privacy"></a>\n              <span data-i18n="account.agree_post"></span>\n            </div>\n            <h4 class="profile-aside__registered u-mt-5" data-i18n="account.not_registered"></h4>\n            <a class="signup_sideBtn" href="./signup.html" data-i18n="account.free_signup"></a>\n            <a class="signup_sideBtn" href="./pw_forget.html" data-i18n="account.forgot_password"></a>            \n          </section>\n        </div>\n      </div>\n      <div id="profile_pop_bg" class="popup_bg"></div>\n    </div>'),$("body").append('\n    <div id="popupSetting" class="popup" style="display:none">\n      <div class="popup_container popup_container--sidebar popup_openFromLeft">\n        <div>\n          <section class="profile-munu-popup">\n            <div class="popup_title popup_title--nounderline">\n              <button class="popup_closeBtn"></button>\n            </div>\n            <div class="lang_Box">\n              <div class="lang_title menu_title" data-target="#langMenu">\n                <div id="nav__langSelector" class="nav_langSelector"></div>\n                <span>'.concat(a,'</span>\n                <span class="arrow">▶</span>\n              </div>\n              <div id="langMenu" class="lang_optionsUl menu_options">\n                <ul class="lang_options">\n                  <li id="lang-en" data-lang="en" data-i18n="common.en"></li>\n                  <li id="lang-cn" data-lang="cn" data-i18n="common.cn"></li>\n                  <li id="lang-zh" data-lang="zh" data-i18n="common.zh"></li>\n                  <li id="lang-ja" data-lang="ja" data-i18n="common.ja"></li>\n                  <li id="lang-ko" data-lang="ko" data-i18n="common.ko"></li>\n                  <li id="lang-vi" data-lang="vi" data-i18n="common.vi"></li>\n                  <li id="lang-th" data-lang="th" data-i18n="common.th"></li>\n                  <li id="lang-es" data-lang="es" data-i18n="common.es"></li>\n                  <li id="lang-fr" data-lang="fr" data-i18n="common.fr"></li>\n                  <li id="lang-de" data-lang="de" data-i18n="common.de"></li>\n                </ul>\n              </div>\n            </div>\n            <div class="wire-around-text u-mt-4" data-i18n="common.content-preference"></div>\n            <div class="preferences_box u-mt-2">\n              <div class="preferences_list">\n                <div id="FemaleLeads" class="preferences_icon" data-value="MALE">\n                  <i class="fa-solid fa-mars"></i>\n                </div>\n                <span class="preferences_title" data-i18n="common.male-leads"></span>\n              </div>\n              <div class="preferences_list">\n                <div id="MaleLeads" class="preferences_icon" data-value="FEMALE">\n                  <i class="fa-solid fa-venus"></i>\n                </div>\n                <span class="preferences_title" data-i18n="common.female-leads"></span>\n              </div>                \n              <div class="preferences_list">\n                <div id="AllLeads" class="preferences_icon" data-value="FEMALE,MALE">\n                  <i class="fa-solid fa-venus-mars"></i>\n                </div>\n                <span class="preferences_title" data-i18n="common.varied-leads"></span>\n              </div>                \n              \x3c!-- <div class="preferences_list">\n                <div class="preferences_icon" data-value="DIVERSE">\n                  <i class="fa-solid fa-venus-mars"></i>\n                </div>\n                <span class="preferences_title" data-i18n="common.diverse-leads"></span>\n              </div> --\x3e\n            </div>            \n            <div class="wire-around-text u-mt-4" data-i18n="common.community"></div>\n            <div class="community-button-list jc-center u-mt-2 u-mb-2">\n              <a class="community-button nav__twitter u-mr-2" href="https://twitter.com/EROLABS_H" target="_blank" rel="noopener noreferrer">\n              <i class="fa-brands fa-x-twitter"></i>\n              </a>\n              <a class="community-button nav__discord" href="https://discord.gg/h6q59YNwGW" target="_blank" rel="noopener noreferrer">\n                <i class="fab fa-discord"></i>\n              </a>\n            </div>\n            <div class="wire-around-text" data-i18n="common.features"></div>\n            <div class="features-button-list jc-center u-mt-2 u-mb-2">\n              <a class="features-button nav__copy" onclick="copyURL()">\n                <i class="fas fa-copy"></i>\n              </a>\n            </div>            \n          </section>\n        </div>\n      </div>\n      <div id="profile_pop_bg" class="popup_bg"></div>\n  </div>')),["en","de","fr","es"].includes(lang)&&swapPreferencesIcons(),$("#footer").html('        \n    <div class="lang_Box footer_langBox">\n      <div class="lang_title footer_langMenu">\n        <div class="nav_langSelector"></div>\n        <span>'.concat(a,'</span>\n        <span class="arrow">▶</span>\n      </div>\n      <div class="footer_langOptions" style="display: none;">\n        <ul class="lang_options">\n          <li id="lang-en" data-lang="en" data-i18n="common.en"></li>\n          <li id="lang-cn" data-lang="cn" data-i18n="common.cn"></li>\n          <li id="lang-zh" data-lang="zh" data-i18n="common.zh"></li>\n          <li id="lang-ja" data-lang="ja" data-i18n="common.ja"></li>\n          <li id="lang-ko" data-lang="ko" data-i18n="common.ko"></li>\n          <li id="lang-vi" data-lang="vi" data-i18n="common.vi"></li>\n          <li id="lang-th" data-lang="th" data-i18n="common.th"></li>\n          <li id="lang-es" data-lang="es" data-i18n="common.es"></li>\n          <li id="lang-fr" data-lang="fr" data-i18n="common.fr"></li>\n          <li id="lang-de" data-lang="de" data-i18n="common.de"></li>\n        </ul>\n      </div>\n    </div>\n    <div class="footer_base">      \n      <div class="footer_main">\n        <picture>\n          <source srcset="../assets/images/logo_lg.webp" type="image/webp">\n          <img class="pc" src="../assets/images/logo_lg.png" alt="logo" />\n        </picture>\n        <p class="footer_notes pc" data-i18n="footer.notes"></p>    \n      </div>\n      <div class="footer_infoBox">\n        <p class="footer_copyright" data-i18n="footer.copyright"></p>\n        <p class="footer_notes mobile" data-i18n="footer.notes"></p>  \n        <div class="footer_links">\n          <a href="./tos.html" data-i18n="common.tos"></a>\n          <span>|</span>\n          <a href="./privacy.html" data-i18n="common.privacy"></a>\n          <span>|</span>\n          <a href="./ecoin.html" data-i18n="common.ecoin"></a>\n          <span>|</span>\n          <a href="./faq.html" data-i18n="common.support"></a>\n          <span>|</span>\n          <a href="./qa_b2b.html" data-i18n="common.b2b"></a>\n        </div>\n      </div>\n    </div>\n  ')),$("#footer").localize(),$(".footer_langMenu").click(function(){event.stopPropagation(),$(".footer_langOptions").toggle(),$(".footer_langMenu").toggleClass("unRadiusOpen")}),$(".footer_langOptions").click(function(e){e.stopPropagation()}),$(document).click(function(){$(".footer_langOptions").hide(),$(".footer_langMenu").removeClass("unRadiusOpen")}),$("#popupLoginMenu").localize(),$("#loginMenuButton").click(function(){openLoginMenu()}),$("#navSettingMenu").click(function(){openSettingMenu()}),$("#popupSetting").localize(),$(".popup_closeBtn").click(function(){closeLoginMenu(),closeSettingMenu()}),$(".popup_bg").click(function(){closeLoginMenu(),closeSettingMenu()}),$(".lang_options li[data-lang="+lang+"]").addClass("active"),$(".lang_options li").click(function(){$(".lang_options li").removeClass("active");var e=$(this).attr("data-lang"),e=(setCookie("lang",e),window.location.pathname.replace("/".concat(lang),"/".concat(e)));window.location.href=window.location.origin+e+window.location.search}),menuTitleHandler();case 1:return e.a(2)}},e)}))),$(_asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:getCookie("erolabsjwt")&&setUserInfoHtml();case 1:return e.a(2)}},e)}))),1299<$(document).width()&&$(".dropdown__selection.dropdown__panel--accordion").addClass("active"),$(window).resize(function(){var e=window.innerWidth;1299<e&&$(".dropdown__selection.dropdown__panel--accordion").addClass("active"),e<1300&&$(".dropdown__selection.dropdown__panel--accordion").hasClass("active")&&($(".dropdown__selection.dropdown__panel--accordion").removeClass("active"),$("body").removeClass("masked"))}),$(function(){$("ul.accordion_ans").hide(),$(".accordion_question").click(function(){$("ul.accordion_ans").slideUp(),$(".accordion_question").removeClass("open"),"none"==$("+ul",this).css("display")&&($("+ul",this).slideDown(),$(this).addClass("open"))})}),$(document).mouseup(function(e){!$(".form__dropdown--open")[0]||e.target.className.includes("form__dropdown")||e.target.className.includes("form__option")||$(".form__dropdown--open").removeClass("form__dropdown--open")}),$(".popup_bg").click(function(){closeiOSAddDesktop(),closeAndroidAddDesktop()}),$(".popup_closeBtn").click(function(){closeiOSAddDesktop(),closeAndroidAddDesktop()}),getCookie("DeviceToken")||setCookie("DeviceToken",getUUID());var apiCount=0,allApiFin=!1,stopRemoveLoadingPage=!1,allMessageList=(setTimeout(function(){allApiFin=!0,stopRemoveLoadingPage||removeLoadingShowMainContent()},2e3),$.ajaxSetup({timeout:3e4,complete:function(e,n){try{var a=(e.responseJSON.data||e.responseJSON).code;"0203"==a?notification({title:i18next.t("notification.please_login")}):"0204"==a?notification({title:i18next.t("notification.has_been_suspended")}):"0205"==a?notification({title:i18next.t("notification.registration_not_full",{date:getCookie("registrationNotFullTill")})}):"0206"==a?notification({title:i18next.t("notification.mail_not_verify")}):"0304"==a&&notification({title:i18next.t("notification.operation_too_frequently")})}catch(e){}0==--apiCount||allApiFin?stopRemoveLoadingPage||(allApiFin=!0,removeLoadingShowMainContent()):showLoadingShowMainContent()},beforeSend:function(e){getCookie("erolabsjwt")&&e.setRequestHeader("Authorization","Bearer ".concat(getCookie("erolabsjwt"))),e.setRequestHeader("DeviceToken","".concat(getCookie("DeviceToken"))),e.setRequestHeader("lang",lang),apiCount++}}),{system:{datas:[],nowPage:1,isEnd:!1,total:0,noRead:0},followed:{datas:[],nowPage:1,isEnd:!1,total:0,noRead:0},game:{datas:[],nowPage:1,isEnd:!1,total:0,noRead:0},noRead:0,showMessageCount:20});function renderNavMessage(){return _renderNavMessage.apply(this,arguments)}function _renderNavMessage(){return(_renderNavMessage=_asyncToGenerator(_regenerator().m(function e(){var n,o,i,a,t=arguments;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(n=0<t.length&&void 0!==t[0]&&t[0],o=$(".msg_tabItem.active").attr("tab-template"),i="",o){e.n=1;break}return e.a(2);case 1:return e.n=2,getSystemNotice(n);case 2:if(allMessageList[o].datas.forEach(function(e,n){var a="",t="",n=(e.hasLangMessage||(a="d-none"),allMessageList[o].datas.length==n+1&&allMessageList[o].datas.length!==allMessageList[o].total&&(a="endMsg"),allMessageList[o].datas.length==n+1&&allMessageList[o].datas.length==allMessageList[o].total&&(allMessageList[o].isEnd=!0,t='\n            <li class="msg_no">\n                <div class="msg_img">\n                    <i class="fas fa-comment-dots"></i>\n                </div>\n                <div class="msg_content">\n                    <h4>'.concat(i18next.t("common.no-notifications"),"</h4>\n                </div>\n            </li>")),"");e.isRead||(n='<span class="tags__box msg_tagPosition">new</span>'),i+='\n        <li class="'.concat(a,'">\n            <a href="').concat(e.url,'#">\n                <div class="msg_img">\n                    ').concat(n,'\n                    <i class="fas fa-comment-dots"></i>\n                </div>\n                <div class="msg_content">\n                    <div class="msg_header">\n                        <span class="msg_author">').concat(e.sender,'</span>\n                        <span class="msg_time">').concat(getFormatFromNow(e.noticeDate),"</span>\n                    </div>\n                    ").concat(e.message,"\n                </div>\n            </a>\n        </li>\n        ").concat(t)}),$("#msgTitle").html("<h2>".concat(i18next.t("common.notification"),"</h2>")),$("#messageContent").html(i),0!=allMessageList[o].datas.length||n||(allMessageList[o].isEnd=!0,a='\n        <li class="msg_no">\n            <div class="msg_img">\n                <i class="fas fa-comment-dots"></i>\n            </div>\n            <div class="msg_content">\n                <h4>'.concat(i18next.t("common.no-notifications"),"</h4>\n                <span>").concat(i18next.t("common.no-new-notifications"),"</span>\n            </div>\n        </li>"),$("#messageContent").append(a)),a=new IntersectionObserver(function(e){e[0].isIntersecting&&($(".endMsg").removeClass("endMsg"),this.disconnect(),renderNavMessage())}),$(".endMsg")[0]&&a.observe($(".endMsg")[0]),n){e.n=4;break}return e.n=3,markAsRead();case 3:if(e.v)return e.n=4,getSystemNotice(!n);e.n=4;break;case 4:$("#navMegNoRead").text(allMessageList.noRead||""),$(".msg_tabItem").toArray().forEach(function(e){var n=$(e).attr("tab-template"),n=allMessageList[n].noRead||"";$(e).find(".msg_tip").text(n)});case 5:return e.a(2)}},e)}))).apply(this,arguments)}function setTabsJqMsg(){$(".msg_tabItem").click(function(){$(".msg_tabItem").removeClass("active"),$(this).addClass("active"),renderNavMessage()})}function getSystemNotice(e){return _getSystemNotice.apply(this,arguments)}function _getSystemNotice(){return(_getSystemNotice=_asyncToGenerator(_regenerator().m(function e(n){var a;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(a=$(".msg_tabItem.active").attr("tab-template"),n)return e.a(2,$.get(baseUrl+"/v2/notification/systemNotice",{lang:lang,nowPage:1,count:0,kind:""},function(e){return allMessageList.noRead=e.data.noRead,allMessageList.system.noRead=e.data.systemNoRead,allMessageList.followed.noRead=e.data.followedNoRead,allMessageList.game.noRead=e.data.gameNoRead,e}));e.n=1;break;case 1:if(allMessageList[a].isEnd)return e.a(2);e.n=2;break;case 2:return e.a(2,$.get(baseUrl+"/v2/notification/systemNotice",{lang:lang,nowPage:allMessageList[a].nowPage,count:allMessageList.showMessageCount,kind:a},function(e){return allMessageList[a].datas=allMessageList[a].datas.concat(e.data[a]),allMessageList[a].nowPage++,allMessageList[a].total=e.data[a+"Total"],allMessageList[a].noRead=e.data[a+"NoRead"],allMessageList.noRead=e.data.noRead,e}));case 3:return e.a(2)}},e)}))).apply(this,arguments)}function markAsRead(){return _markAsRead.apply(this,arguments)}function _markAsRead(){return(_markAsRead=_asyncToGenerator(_regenerator().m(function e(){var n,a;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(n=[],a=$(".msg_tabItem.active").attr("tab-template"),allMessageList[a].datas.forEach(function(e){0==e.isRead&&(n.push(e.noticeId),e.isRead=1)}),0<n.length)return e.a(2,$.post(baseUrl+"/v2/notification/systemNotice/markAsRead",{lang:lang,noticeList:arrayToString(n)},function(e){return e}));e.n=1;break;case 1:return e.a(2,null);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function copyURL(){var e=document.createElement("input"),n=window.location.href;document.body.appendChild(e),e.value=n,e.select(),document.execCommand("copy"),document.body.removeChild(e),notification({title:i18next.t("notification.has_copied"),content:""},"success")}function copy(e){var n=document.createElement("input");document.body.appendChild(n),n.value=e,n.select(),document.execCommand("copy"),document.body.removeChild(n),notification({title:i18next.t("notification.has_copied"),content:""},"success")}function getWebp(e){var n;return e&&(n=(n=e.split("."))[n.length-1],"webp"==(n=e.replace(n,"webp"))?e:n)}function handlePictureError(e){e.previousElementSibling?e.previousElementSibling.remove():e.nextElementSibling?e.nextElementSibling.remove():(e.errorSrc=e.src,e.src="../assets/images/error.jpg")}function setTabsJq(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";$(n+" .tab").click(function(){$(n+" .tab").removeClass("active"),$(this).addClass("active");var e=$(this).attr("tab-template");$(n+" .tab-box").each(function(){$(this).attr("tab-template")===e?$(this).show():$(this).hide()})})}function collectGame(e,n){var a,t,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;getCookie("erolabsjwt")?(t=n?(a=0,i18next.t("common.cancelCollect")):(a=1,i18next.t("common.isCollected")),$.post(baseUrl+"/v2/game/collect/".concat(e),{actionType:a},function(e){notification({title:t},"success"),o&&o()})):location.href="login.html"}function setPartnerMall(){var n="partner_mall_url";return $.get(baseUrl+"/v2/system/config",{name:n},function(e){e=e.data.config.find(function(e){return e.name==n&&e.status});e&&e.value&&($("#partnerMallNavMobile a").attr("href",e.value),$("#partnerMallNavMobile").show(),$("#partnerMallNav").attr("href",e.value),$("#partnerMallNav").show())})}function initSidebarPreferenceBtn(){return _initSidebarPreferenceBtn.apply(this,arguments)}function _initSidebarPreferenceBtn(){return(_initSidebarPreferenceBtn=_asyncToGenerator(_regenerator().m(function e(){var a,t,n,o;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(a=!!getCookie("erolabsjwt"),t=new PreferenceDataLayer,a)return e.n=1,t.getByAccount();e.n=2;break;case 1:o=e.v,e.n=3;break;case 2:o=t.getByCache();case 3:n=o.sort().join(),$('.preferences_icon[data-value="'.concat(n,'"]')).addClass("active"),$(".preferences_icon").on("click",_asyncToGenerator(_regenerator().m(function e(){var n;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(n=$(this).data("value"),$(this).hasClass("active"))return e.a(2);e.n=1;break;case 1:if(t.setByCache(n),a)return e.n=2,t.setByAccount(n);e.n=2;break;case 2:location.reload();case 3:return e.a(2)}},e,this)})));case 4:return e.a(2)}},e)}))).apply(this,arguments)}$("#navMsgSelectorBtn").on("click",_asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:$(this).hasClass("active")||($("#navMsgSelector").toggleClass("active"),renderNavMessage()),$("body").toggleClass("masked");case 1:return e.a(2)}},e,this)}))),$("#msgMenuCloseBtn").on("click",_asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:$("#navMsgSelector").removeClass("active"),$("body").toggleClass("masked");case 1:return e.a(2)}},e)}))),setTabsJqMsg(),$(function(){$("ul.user-alchemy__tableListBox").hide(),$(".user-alchemy__tableListTitle").click(function(){$("ul.user-alchemy__tableListBox").slideUp(),$(".user-alchemy__tableListTitle").removeClass("unRadiusOpen"),"none"==$("+ul",this).css("display")&&($("+ul",this).slideDown(),$(this).addClass("unRadiusOpen"))})}),setPartnerMall();var PreferenceDataLayer=(()=>{function e(){return _classCallCheck(this,e),_defineProperty(this,"_data",{account:null,cache:null,use:"cache"}),_defineProperty(this,"_cookieKey","prefer-types"),e._instance=e._instance?e._instance:this}return _createClass(e,[{key:"init",value:(t=_asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getByAccount(!0);case 1:this.getByCache(),!!getCookie("erolabsjwt")||this.setUseType("cache");case 2:return e.a(2)}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_getStorage",value:function(){var e,n=getCookie(this._cookieKey);try{e=atob(n)}catch(e){}return n&&e?(n=JSON.parse(e),this._data=n):(this._setStorage(),this._getStorage())}},{key:"_setStorage",value:function(){var e=btoa(JSON.stringify(this._data));setCookie(this._cookieKey,e)}},{key:"setByAccount",value:(a=_asyncToGenerator(_regenerator().m(function e(n){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return"string"==typeof n&&(n=n.split(",").filter(Boolean)),e.n=1,$.ajax({url:"".concat(baseUrl,"/v2/accountManagement/preference/edit"),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({preferenceTypes:n})});case 1:this._data.account=n,this._setStorage();case 2:return e.a(2)}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"setByCache",value:function(e){"string"==typeof e&&(e=e.split(",").filter(Boolean)),this._data.cache=e,this._setStorage()}},{key:"getByAccount",value:(n=_asyncToGenerator(_regenerator().m(function e(n){var a,t;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(a=this._getStorage(),(a=a.account)&&!n)return e.a(2,a);e.n=1;break;case 1:return e.n=2,$.get("".concat(baseUrl,"/v2/accountManagement/preference"));case 2:return a=e.v,t=a.data,this._data.account=t.preferenceTypes,this._setStorage(),e.a(2,this._data.account)}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getByCache",value:function(){var e=this._getStorage().cache;return e||(this._data.cache=[],this._setStorage(),this._data.cache)}},{key:"setUseType",value:function(e){["cache","account"].includes(e)&&(this._data.use=e,this._setStorage())}},{key:"getUseType",value:function(){return this._getStorage().use}},{key:"isStorageDiff",value:function(){var e=this._getStorage(),n=e.account,a=e.cache,e=(n.sort(),a.sort(),!!a.length),t=n.length===a.length,n=n.some(function(e,n){return e!==a[n]});return e&&(!t||n)}},{key:"getTypesInUsed",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"string",n=null!=(n=this._getStorage()[this.getUseType()])?n:[];return{string:n.join(","),array:n}[e]}}]);var n,a,t})();function swapPreferencesIcons(){var e=$("#FemaleLeads i"),n=$("#MaleLeads i"),a=e.attr("class"),t=n.attr("class");e.attr("class",t),n.attr("class",a)}_defineProperty(PreferenceDataLayer,"_instance",void 0);