((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.i18next=e()})(this,function(){function l(t){return null==t?"":""+t}function g(t,e,n){function o(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var r="string"!=typeof e?[].concat(e):e.split(".");1<r.length;){if(i())return{};var s=o(r.shift());!t[s]&&n&&(t[s]=new n),t=t[s]}return i()?{}:{obj:t,k:o(r.shift())}}function a(t,e,n){t=g(t,e,Object);t.obj[t.k]=n}function c(t,e){t=g(t,e),e=t.obj;if(e)return e[t.k]}function e(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function H(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return V[t]}):t}function u(t){return t.interpolation={unescapeSuffix:"HTML"},t.interpolation.prefix=t.interpolationPrefix||"__",t.interpolation.suffix=t.interpolationSuffix||"__",t.interpolation.escapeValue=t.escapeInterpolation||!1,t.interpolation.nestingPrefix=t.reusePrefix||"$t(",t.interpolation.nestingSuffix=t.reuseSuffix||")",t}function h(t){return(t=t.interpolationPrefix||t.interpolationSuffix||t.escapeInterpolation?u(t):t).nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,t.returnObjects=t.returnObjectTrees,t}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function p(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){return{defaultValue:t[1]}},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function f(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&t.whitelist.push("cimode"),t}function d(){}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},b=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=t,o=e,i=[],r=!0,t=!1,e=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!o||i.length!==o);r=!0);}catch(n){t=!0,e=n}finally{try{!r&&a.return&&a.return()}finally{if(t)throw e}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},U={type:"logger",log:function(t){this._output("log",t)},warn:function(t){this._output("warn",t)},error:function(t){this._output("error",t)},_output:function(t,e){console&&console[t]&&console[t].apply(console,Array.prototype.slice.call(e))}};A.prototype.init=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||U,this.options=e,this.debug=!1!==e.debug},A.prototype.setDebug=function(t){this.debug=t},A.prototype.log=function(){this.forward(arguments,"log","",!0)},A.prototype.warn=function(){this.forward(arguments,"warn","",!0)},A.prototype.error=function(){this.forward(arguments,"error","")},A.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},A.prototype.forward=function(t,e,n,o){o&&!this.debug||("string"==typeof t[0]&&(t[0]=n+this.prefix+" "+t[0]),this.logger[e](t))},A.prototype.create=function(t){return new A(this.logger,v({prefix:this.prefix+":"+t+":"},this.options))};var i,m,x,S,k,w=new A,n=(M.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},M.prototype.off=function(e,n){var o=this;this.observers[e]&&this.observers[e].forEach(function(){var t;n?-1<(t=o.observers[e].indexOf(n))&&o.observers[e].splice(t,1):delete o.observers[e]})},M.prototype.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.observers[e]&&[].concat(this.observers[e]).forEach(function(t){t.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,(t=[e]).concat.apply(t,n))})},M),V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},I=(t(T,k=n),T.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},T.prototype.removeNamespaces=function(t){t=this.options.ns.indexOf(t);-1<t&&this.options.ns.splice(t,1)},T.prototype.getResource=function(t,e,n){var o=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator,e=(void 0===o&&(o="."),[t,e]);return n&&"string"!=typeof n&&(e=e.concat(n)),n&&"string"==typeof n&&(e=e.concat(o?n.split(o):n)),-1<t.indexOf(".")&&(e=t.split(".")),c(this.data,e)},T.prototype.addResource=function(t,e,n,o){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator,s=(void 0===r&&(r="."),[t,e]);n&&(s=s.concat(r?n.split(r):n)),-1<t.indexOf(".")&&(o=e,e=(s=t.split("."))[1]),this.addNamespaces(e),a(this.data,s,o),i.silent||this.emit("added",t,e,n,o)},T.prototype.addResources=function(t,e,n){for(var o in n)"string"==typeof n[o]&&this.addResource(t,e,o,n[o],{silent:!0});this.emit("added",t,e,n)},T.prototype.addResourceBundle=function(t,e,n,o,i){var r=[t,e],s=(-1<t.indexOf(".")&&(o=n,n=e,e=(r=t.split("."))[1]),this.addNamespaces(e),c(this.data,r)||{});o?function t(e,n,o){for(var i in n)i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?o&&(e[i]=n[i]):t(e[i],n[i],o):e[i]=n[i]}(s,n,i):s=v({},s,n),a(this.data,r,s),this.emit("added",t,e,n)},T.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},T.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},T.prototype.getResourceBundle=function(t,e){return e=e||this.options.defaultNS,"v1"===this.options.compatibilityAPI?v({},this.getResource(t,e)):this.getResource(t,e)},T.prototype.toJSON=function(){return this.data},T),L={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,o,i){var r=this;return t.forEach(function(t){r.processors[t]&&(e=r.processors[t].process(e,n,o,i))}),e}},O=(t(_,S=n),_.prototype.changeLanguage=function(t){t&&(this.language=t)},_.prototype.exists=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return"v1"===this.options.compatibilityAPI&&(e=h(e)),void 0!==this.resolve(t,e)},_.prototype.extractFromKey=function(t,e){var n,o=e.nsSeparator||this.options.nsSeparator,i=e.keySeparator||this.options.keySeparator||".",e=e.ns||this.options.defaultNS;return(o=void 0===o?":":o)&&-1<t.indexOf(o)&&(n=t.split(o),(o!==i||o===i&&-1<this.options.ns.indexOf(n[0]))&&(e=n.shift()),t=n.join(i)),{key:t,namespaces:e="string"==typeof e?[e]:e}},_.prototype.translate=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===e?"undefined":y(e))?e=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(e=h(e)),null==t||""===t)return"";"number"==typeof t&&(t=String(t));var n=e.keySeparator||this.options.keySeparator||".",o=this.extractFromKey((t="string"==typeof t?[t]:t)[t.length-1],e),i=o.key,r=o.namespaces,o=r[r.length-1],s=e.lng||this.language,a=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase())return a?o+(e.nsSeparator||this.options.nsSeparator)+i:i;var l=this.resolve(t,e),a=Object.prototype.toString.apply(l),t=(void 0!==e.joinArrays?e:this.options).joinArrays;if(l&&"string"!=typeof l&&["[object Number]","[object Function]","[object RegExp]"].indexOf(a)<0&&(!t||"[object Array]"!==a)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(i,l,e):"key '"+i+" ("+this.language+")' returned an object instead of string.";if(e.keySeparator||this.options.keySeparator){var c,u="[object Array]"===a?[]:{};for(c in l)l.hasOwnProperty(c)&&(u[c]=this.translate(""+i+n+c,v({},e,{joinArrays:!1,ns:r})));l=u}}else if(t&&"[object Array]"===a)l=(l=l.join(t))&&this.extendTranslation(l,i,e);else{a=!1,t=!1;if(this.isValidLookup(l)||void 0===e.defaultValue||(a=!0,l=e.defaultValue),this.isValidLookup(l)||(t=!0,l=i),t||a){this.logger.log("missingKey",s,o,i,l);var p=[],f=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&f&&f[0])for(var g=0;g<f.length;g++)p.push(f[g]);else"all"===this.options.saveMissingTo?p=this.languageUtils.toResolveHierarchy(e.lng||this.language):p.push(e.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(p,o,i,l):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(p,o,i,l)),this.emit("missingKey",p,o,i,l)}l=this.extendTranslation(l,i,e),t&&l===i&&this.options.appendNamespaceToMissingKey&&(l=o+":"+i),t&&this.options.parseMissingKeyHandler&&(l=this.options.parseMissingKeyHandler(l))}return l},_.prototype.extendTranslation=function(t,e,n){var o=this,i=(n.interpolation&&this.interpolator.init(v({},n,{interpolation:v({},this.options.interpolation,n.interpolation)})),n.replace&&"string"!=typeof n.replace?n.replace:n),i=(this.options.interpolation.defaultVariables&&(i=v({},this.options.interpolation.defaultVariables,i)),t=this.interpolator.interpolate(t,i,n.lng||this.language),!1!==n.nest&&(t=this.interpolator.nest(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.translate.apply(o,e)},n)),n.interpolation&&this.interpolator.reset(),n.postProcess||this.options.postProcess),i="string"==typeof i?[i]:i;return t=void 0!==t&&i&&i.length&&!1!==n.applyPostProcessor?L.handle(i,t,e,n,this):t},_.prototype.resolve=function(t){var c=this,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p=void 0;return(t="string"==typeof t?[t]:t).forEach(function(t){var s,a,l,e;c.isValidLookup(p)||(t=c.extractFromKey(t,u),s=t.key,t=t.namespaces,c.options.fallbackNS&&(t=t.concat(c.options.fallbackNS)),a=void 0!==u.count&&"string"!=typeof u.count,l=void 0!==u.context&&"string"==typeof u.context&&""!==u.context,e=u.lngs||c.languageUtils.toResolveHierarchy(u.lng||c.language),t.forEach(function(r){c.isValidLookup(p)||e.forEach(function(t){if(!c.isValidLookup(p)){var e=s,n=[e],o=void 0;a&&(o=c.pluralResolver.getSuffix(t,u.count)),a&&l&&n.push(e+o),l&&n.push(e+=""+c.options.contextSeparator+u.context),a&&n.push(e+=o);for(var i;i=n.pop();)c.isValidLookup(p)||(p=c.getResource(t,r,i,u))}})}))}),p},_.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},_.prototype.getResource=function(t,e,n){return this.resourceStore.getResource(t,e,n,3<arguments.length&&void 0!==arguments[3]?arguments[3]:{})},_),F=(E.prototype.getScriptPartFromCode=function(t){return!t||t.indexOf("-")<0||2===(t=t.split("-")).length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},E.prototype.getLanguagePartFromCode=function(t){return!t||t.indexOf("-")<0?t:(t=t.split("-"),this.formatLanguageCode(t[0]))},E.prototype.formatLanguageCode=function(t){var e,n;return"string"==typeof t&&-1<t.indexOf("-")?(e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-"),this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=o(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=o(n[1].toLowerCase())),-1<e.indexOf(n[2].toLowerCase()))&&(n[2]=o(n[2].toLowerCase())),n.join("-")):this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},E.prototype.isWhitelisted=function(t){return"languageOnly"!==this.options.load&&!this.options.nonExplicitWhitelist||(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||-1<this.whitelist.indexOf(t)},E.prototype.getFallbackCodes=function(t,e){return t?("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t)?t:e?t[e]||t[this.getScriptPartFromCode(e)]||t[this.formatLanguageCode(e)]||t.default||[]:t.default||[]):[]},E.prototype.toResolveHierarchy=function(t,e){function n(t){t&&(o.isWhitelisted(t)?i.push(t):o.logger.warn("rejecting non-whitelisted language code: "+t))}var o=this,e=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[];return"string"==typeof t&&-1<t.indexOf("-")?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(t))):"string"==typeof t&&n(this.formatLanguageCode(t)),e.forEach(function(t){i.indexOf(t)<0&&n(o.formatLanguageCode(t))}),i},E),K=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],D={1:function(t){return Number(1<t)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5)},6:function(t){return Number(1==t?0:2<=t&&t<=4?1:2)},7:function(t){return Number(1==t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(2<=t)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:2<t&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&(t%100<10||20<=t%100)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||1<t%100&&t%100<11?1:10<t%100&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||0<t%100&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},q=(R.prototype.addRule=function(t,e){this.rules[t]=e},R.prototype.getRule=function(t){return this.rules[this.languageUtils.getLanguagePartFromCode(t)]},R.prototype.needsPlural=function(t){t=this.getRule(t);return!(t&&t.numbers.length<=1)},R.prototype.getSuffix=function(t,e){var n,o,i=this,r=this.getRule(t);return r?"object"===(void 0===(r=1===r.numbers.length?{v:""}:(e=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),n=r.numbers[e],i.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===n?n="plural":1===n&&(n="")),o=function(){return i.options.prepend&&n.toString()?i.options.prepend+n.toString():n.toString()},"v1"===i.options.compatibilityJSON?1===n?{v:""}:"number"==typeof n?{v:"_plural_"+n.toString()}:{v:o()}:"v2"===i.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]||2===r.numbers.length&&1===r.numbers[0]?{v:o()}:{v:i.options.prepend&&e.toString()?i.options.prepend+e.toString():e.toString()}))?"undefined":y(r))?r.v:void 0:(this.logger.warn("no plural rule found for: "+t),"")},R),B=(P.prototype.init=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.escape=t.interpolation&&t.interpolation.escape||H),t.interpolation||(t.interpolation={escapeValue:!0}),t.interpolation);this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?e(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?e(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator||(t.formatSeparator,","),this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?e(t.nestingPrefix):t.nestingPrefixEscaped||e("$t("),this.nestingSuffix=t.nestingSuffix?e(t.nestingSuffix):t.nestingSuffixEscaped||e(")"),this.resetRegExp()},P.prototype.reset=function(){this.options&&this.init(this.options)},P.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix,t=(this.regexp=new RegExp(t,"g"),this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix),t=(this.regexpUnescape=new RegExp(t,"g"),this.nestingPrefix+"(.+?)"+this.nestingSuffix);this.nestingRegexp=new RegExp(t,"g")},P.prototype.interpolate=function(t,n,o){function e(t){var e;return t.indexOf(i.formatSeparator)<0?c(n,t):(e=(t=t.split(i.formatSeparator)).shift().trim(),t=t.join(i.formatSeparator).trim(),i.format(c(n,e),t,o))}var i=this,r=void 0,s=void 0;for(this.resetRegExp();r=this.regexpUnescape.exec(t);){var a=e(r[1].trim());t=t.replace(r[0],a),this.regexpUnescape.lastIndex=0}for(;r=this.regexp.exec(t);)(s="string"!=typeof(s=e(r[1].trim()))?l(s):s)||(this.logger.warn("missed to pass in variable "+r[1]+" for interpolating "+t),s=""),s=(this.escapeValue?this.escape(s):s).replace(/\$/g,"$$$$"),t=t.replace(r[0],s),this.regexp.lastIndex=0;return t},P.prototype.nest=function(t,e){function n(t){if(!(t.indexOf(",")<0)){var e=t.split(","),n=(t=e.shift(),e.join(","));n=(n=this.interpolate(n,r)).replace(/'/g,'"');try{r=JSON.parse(n)}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}}return t}var o=void 0,i=void 0,r=v({},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});for(r.applyPostProcessor=!1;o=this.nestingRegexp.exec(t);)(i="string"!=typeof(i=e(n.call(this,o[1].trim()),r))?l(i):i)||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+t),i=""),t=t.replace(o[0],i),this.regexp.lastIndex=0;return t},P),z=(t(C,x=n),C.prototype.queueLoad=function(t,e,n){var i=this,r=[],s=[],a=[],l=[];return t.forEach(function(n){var o=!0;e.forEach(function(t){var e=n+"|"+t;i.store.hasResourceBundle(n,t)?i.state[e]=2:i.state[e]<0||(1===i.state[e]?s.indexOf(e)<0&&s.push(e):(i.state[e]=1,o=!1,s.indexOf(e)<0&&s.push(e),r.indexOf(e)<0&&r.push(e),l.indexOf(t)<0&&l.push(t)))}),o||a.push(n)}),(r.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:n}),{toLoad:r,pending:s,toLoadLanguages:a,toLoadNamespaces:l}},C.prototype.loaded=function(l,c,t){var u=this,e=l.split("|"),e=b(e,2),p=e[0],f=e[1];c&&this.emit("failedLoading",p,f,c),t&&this.store.addResourceBundle(p,f,t),this.state[l]=c?-1:2,this.queue.forEach(function(t){e=t.loaded,o=f,(n=(e=g(e,n=[p],Object)).obj)[e=e.k]=n[e]||[],i&&(n[e]=n[e].concat(o)),i||n[e].push(o);for(var e,n,o,i,r=t.pending,s=l,a=r.indexOf(s);-1!==a;)r.splice(a,1),a=r.indexOf(s);c&&t.errors.push(c),0!==t.pending.length||t.done||(u.emit("loaded",t.loaded),t.errors.length?t.callback(t.errors):t.callback(),t.done=!0)}),this.queue=this.queue.filter(function(t){return!t.done})},C.prototype.read=function(n,o,i,r,s,a){var l=this;return r=r||0,s=s||250,n.length?void this.backend[i](n,o,function(t,e){return t&&e&&r<5?void setTimeout(function(){l.read.call(l,n,o,i,++r,2*s,a)},s):void a(t,e)}):a(null,{})},C.prototype.load=function(t,e,n){var o,s,a=this;return this.backend?(o=v({},this.backend.options,this.options.backend),"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),(s=this.queueLoad(t,e="string"==typeof e?[e]:e,n)).toLoad.length?void(o.allowMultiLoading&&this.backend.readMulti?this.read(s.toLoadLanguages,s.toLoadNamespaces,"readMulti",null,null,function(i,r){i&&a.logger.warn("loading namespaces "+s.toLoadNamespaces.join(", ")+" for languages "+s.toLoadLanguages.join(", ")+" via multiloading failed",i),!i&&r&&a.logger.log("loaded namespaces "+s.toLoadNamespaces.join(", ")+" for languages "+s.toLoadLanguages.join(", ")+" via multiloading",r),s.toLoad.forEach(function(t){var e=t.split("|"),e=b(e,2),n=e[0],e=e[1],o=c(r,[n,e]);o?a.loaded(t,i,o):(a.loaded(t,o="loading namespace "+e+" for language "+n+" via multiloading failed"),a.logger.error(o))})}):s.toLoad.forEach(function(t){!function(n){var o=this,t=n.split("|"),t=b(t,2),i=t[0],r=t[1];this.read(i,r,"read",null,null,function(t,e){t&&o.logger.warn("loading namespace "+r+" for language "+i+" failed",t),!t&&e&&o.logger.log("loaded namespace "+r+" for language "+i,e),o.loaded(n,t,e)})}.call(a,t)})):void(s.pending.length||n())):(this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n())},C.prototype.reload=function(t,r){var s=this,e=(this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources."),v({},this.backend.options,this.options.backend));"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof r&&(r=[r]),e.allowMultiLoading&&this.backend.readMulti?this.read(t,r,"readMulti",null,null,function(o,i){o&&s.logger.warn("reloading namespaces "+r.join(", ")+" for languages "+t.join(", ")+" via multiloading failed",o),!o&&i&&s.logger.log("reloaded namespaces "+r.join(", ")+" for languages "+t.join(", ")+" via multiloading",i),t.forEach(function(n){r.forEach(function(t){var e=c(i,[n,t]);e?s.loaded(n+"|"+t,o,e):(s.loaded(n+"|"+t,e="reloading namespace "+t+" for language "+n+" via multiloading failed"),s.logger.error(e))})})}):t.forEach(function(e){r.forEach(function(t){!function(n){var o=this,t=n.split("|"),t=b(t,2),i=t[0],r=t[1];this.read(i,r,"read",null,null,function(t,e){t&&o.logger.warn("reloading namespace "+r+" for language "+i+" failed",t),!t&&e&&o.logger.log("reloaded namespace "+r+" for language "+i,e),o.loaded(n,t,e)})}.call(s,e+"|"+t)})})},C.prototype.saveMissing=function(t,e,n,o){this.backend&&this.backend.create&&this.backend.create(t,e,n,o),t&&t[0]&&this.store.addResource(t[0],e,n,o)},C),$=(t(j,m=n),j.prototype.load=function(r,t,s){var a=this;if(!this.cache)return s&&s();var e=v({},this.cache.options,this.options.cache);"string"==typeof r&&(r=this.services.languageUtils.toResolveHierarchy(r)),"string"==typeof t&&(t=[t]),e.enabled?this.cache.load(r,function(t,e){if(t&&a.logger.error("loading languages "+r.join(", ")+" from cache failed",t),e)for(var n in e)for(var o in e[n]){var i;"i18nStamp"!==o&&(i=e[n][o])&&a.store.addResourceBundle(n,o,i)}s&&s()}):s&&s()},j.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},j);function N(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],o=(r(this,N),s(this,i.call(this)));if(o.options=f(e),o.services={},o.logger=w,o.modules={external:[]},n&&!o.isInitialized&&!e.isClone){if(!o.options.initImmediate)return t=o.init(e,n),s(o,t);setTimeout(function(){o.init(e,n)},0)}return o}function j(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=(r(this,j),s(this,m.call(this)));return i.cache=t,i.store=e,i.services=n,i.options=o,i.logger=w.create("cacheConnector"),i.cache&&i.cache.init&&i.cache.init(n,o.cache,o),i}function C(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=(r(this,C),s(this,x.call(this)));return i.backend=t,i.store=e,i.services=n,i.options=o,i.logger=w.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,o.backend,o),i}function P(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};r(this,P),this.logger=w.create("interpolator"),this.init(t,!0)}function R(t){var n,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,R),this.languageUtils=t,this.options=e,this.logger=w.create("pluralResolver"),this.rules=(n={},K.forEach(function(e){e.lngs.forEach(function(t){return n[t]={numbers:e.nr,plurals:D[e.fc]}})}),n)}function E(t){r(this,E),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=w.create("languageUtils")}function _(t){var e,n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=(r(this,_),s(this,S.call(this)));return e=t,n=i,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"].forEach(function(t){e[t]&&(n[t]=e[t])}),i.options=o,i.logger=w.create("translator"),i}function T(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"},n=(r(this,T),s(this,k.call(this)));return n.data=t,n.options=e,n}function M(){r(this,M),this.observers={}}function A(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,A),this.init(t,e)}return t(N,i=n),N.prototype.init=function(t,n){function e(t){if(t)return"function"==typeof t?new t:t}function o(){a.changeLanguage(a.options.lng,function(t,e){a.isInitialized=!0,a.logger.log("initialized",a.options),a.emit("initialized",a.options),n(t,e)})}var i,r,s,a=this;"function"==typeof t&&(n=t,t={}),"v1"===(t=t||{}).compatibilityAPI?this.options=v({},p(),f(((r=t).resStore&&(r.resources=r.resStore),r.ns&&r.ns.defaultNs?(r.defaultNS=r.ns.defaultNs,r.ns=r.ns.namespaces):r.defaultNS=r.ns||"translation",r.fallbackToDefaultNS&&r.defaultNS&&(r.fallbackNS=r.defaultNS),r.saveMissing=r.sendMissing,r.saveMissingTo=r.sendMissingTo||"current",r.returnNull=!r.fallbackOnNull,r.returnEmptyString=!r.fallbackOnEmpty,r.returnObjects=r.returnObjectTrees,r.joinArrays="\n",r.returnedObjectHandler=r.objectTreeKeyHandler,r.parseMissingKeyHandler=r.parseMissingKey,r.appendNamespaceToMissingKey=!0,r.nsSeparator=r.nsseparator||":",r.keySeparator=r.keyseparator||".","sprintf"===r.shortcutFunction&&(r.overloadTranslationOptionHandler=function(t){for(var e=[],n=1;n<t.length;n++)e.push(t[n]);return{postProcess:"sprintf",sprintf:e}}),r.whitelist=r.lngWhitelist,r.preload=r.preload,"current"===r.load&&(r.load="currentOnly"),"unspecific"===r.load&&(r.load="languageOnly"),r.backend=r.backend||{},r.backend.loadPath=r.resGetPath||"locales/__lng__/__ns__.json",r.backend.addPath=r.resPostPath||"locales/add/__lng__/__ns__",r.backend.allowMultiLoading=r.dynamicLoad,r.cache=r.cache||{},r.cache.prefix="res_",r.cache.expirationTime=6048e5,r.cache.enabled=!!r.useLocalStorage,(r=u(r)).defaultVariables&&(r.interpolation.defaultVariables=r.defaultVariables),r)),{}):"v1"===t.compatibilityJSON?this.options=v({},p(),f(((r=u(r=t)).joinArrays="\n",r)),{}):this.options=v({},p(),this.options,f(t)),n=n||d,this.options.isClone||(this.modules.logger?w.init(e(this.modules.logger),this.options):w.init(null,this.options),t=new F(this.options),this.store=new I(this.options.resources,this.options),(i=this.services).logger=w,i.resourceStore=this.store,i.resourceStore.on("added removed",function(t,e){i.cacheConnector.save()}),i.languageUtils=t,i.pluralResolver=new q(t,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new B(this.options),i.backendConnector=new z(e(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];a.emit.apply(a,[t].concat(n))}),i.backendConnector.on("loaded",function(t){i.cacheConnector.save()}),i.cacheConnector=new $(e(this.modules.cache),i.resourceStore,i,this.options),i.cacheConnector.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];a.emit.apply(a,[t].concat(n))}),this.modules.languageDetector&&(i.languageDetector=e(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.translator=new O(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];a.emit.apply(a,[t].concat(n))}),this.modules.external.forEach(function(t){t.init&&t.init(a)})),["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(t){a[t]=function(){return this.store[t].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&((s=this).lng=function(){return w.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),s.services.languageUtils.toResolveHierarchy(s.language)[0]},s.preload=function(t,e){w.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),s.loadLanguages(t,e)},s.setLng=function(t,e,n){return w.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof e&&(n=e,e={}),!0===(e=e||{}).fixLng&&n?n(null,s.getFixedT(t)):void s.changeLanguage(t,n)},s.addPostProcessor=function(t,e){w.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),s.use({type:"postProcessor",name:t,process:e})});return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),this},N.prototype.loadResources=function(){var e,n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d;if(this.options.resources)t(null);else{var o=n.language&&"cimode"===n.language.toLowerCase()?{v:t()}:(e=[],o=function(t){t&&n.services.languageUtils.toResolveHierarchy(t).forEach(function(t){e.indexOf(t)<0&&e.push(t)})},n.language?o(n.language):n.services.languageUtils.getFallbackCodes(n.options.fallbackLng).forEach(o),n.options.preload&&n.options.preload.forEach(o),void n.services.cacheConnector.load(e,n.options.ns,function(){n.services.backendConnector.load(e,n.options.ns,t)}));if("object"===(void 0===o?"undefined":y(o)))return o.v}},N.prototype.reloadResources=function(t,e){t=t||this.languages,e=e||this.options.ns,this.services.backendConnector.reload(t,e)},N.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),"cache"===t.type&&(this.modules.cache=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"postProcessor"===t.type&&L.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},N.prototype.changeLanguage=function(e,n){var o=this;(e=!e&&this.services.languageDetector?this.services.languageDetector.detect():e)&&(this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.translator.changeLanguage(e),this.services.languageDetector)&&this.services.languageDetector.cacheUserLanguage(e),this.loadResources(function(t){t=t,e&&(o.emit("languageChanged",e),o.logger.log("languageChanged",e)),n&&n(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.t.apply(o,e)})})},N.prototype.getFixedT=function(t,e){function n(t){var e=v({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return e.lng=e.lng||n.lng,e.ns=e.ns||n.ns,o.t(t,e)}var o=this;return n.lng=t,n.ns=e,n},N.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},N.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},N.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},N.prototype.loadNamespaces=function(t,e){var n=this;return this.options.ns?((t="string"==typeof t?[t]:t).forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),void this.loadResources(e)):e&&e()},N.prototype.loadLanguages=function(t,e){var n=this.options.preload||[],t=(t="string"==typeof t?[t]:t).filter(function(t){return n.indexOf(t)<0});return t.length?(this.options.preload=n.concat(t),void this.loadResources(e)):e()},N.prototype.dir=function(t){return!(t=t||this.language)||0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr"},N.prototype.createInstance=function(){return new N(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},N.prototype.cloneInstance=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,t=v({},t,this.options,{isClone:!0}),i=new N(t,n);return["store","services","language"].forEach(function(t){i[t]=e[t]}),i.translator=new O(i.services,i.options),i.translator.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];i.emit.apply(i,[t].concat(n))}),i.init(t,n),i},new N});