<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Manager åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #555;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        .test-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        button.danger {
            background: #e53e3e;
        }
        
        button.danger:hover {
            background: #c53030;
        }
        
        button.success {
            background: #48bb78;
        }
        
        button.success:hover {
            background: #38a169;
        }
        
        .cookie-display {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .cookie-item {
            background: #f7fafc;
            border-left: 3px solid #667eea;
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
        }
        
        .cookie-name {
            font-weight: bold;
            color: #2d3748;
        }
        
        .cookie-value {
            color: #718096;
            word-break: break-all;
        }
        
        .status {
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: 500;
        }
        
        .status.success {
            background: #c6f6d5;
            color: #22543d;
            border-left: 4px solid #48bb78;
        }
        
        .status.error {
            background: #fed7d7;
            color: #742a2a;
            border-left: 4px solid #e53e3e;
        }
        
        .status.info {
            background: #bee3f8;
            color: #2c5282;
            border-left: 4px solid #4299e1;
        }
        
        .protocol-link {
            display: inline-block;
            background: #764ba2;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 6px;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .protocol-link:hover {
            background: #6b46a2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(118, 75, 162, 0.4);
        }
        
        input[type="text"], input[type="datetime-local"], select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            margin: 5px 0;
            font-size: 14px;
        }
        
        label {
            display: block;
            margin-top: 10px;
            color: #4a5568;
            font-weight: 500;
        }
        
        .form-group {
            margin: 15px 0;
        }
        
        .checkbox-group {
            display: flex;
            gap: 20px;
            margin: 10px 0;
        }
        
        .checkbox-group label {
            display: flex;
            align-items: center;
            margin: 0;
        }
        
        .checkbox-group input[type="checkbox"] {
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸª Cookie Manager åŠŸèƒ½æµ‹è¯•</h1>
        
        <div class="test-section">
            <h2>Cookieç®¡ç†ç•Œé¢å¿«é€Ÿè®¿é—®</h2>
            <p>ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥æ‰“å¼€Cookieç®¡ç†å™¨ï¼š</p>
            <div class="button-group">
                <a href="ct://settings/cookie" class="protocol-link">æ‰“å¼€Cookieç®¡ç†å™¨</a>
                <a href="ct://settings/cookies" class="protocol-link">æ‰“å¼€Cookieç®¡ç†å™¨ï¼ˆåˆ«åï¼‰</a>
            </div>
        </div>

        <div class="test-section">
            <h2>1. åˆ›å»ºæµ‹è¯•Cookies</h2>
            <p>ç‚¹å‡»æŒ‰é’®åˆ›å»ºä¸åŒç±»å‹çš„æµ‹è¯•cookiesï¼š</p>
            <div class="button-group">
                <button onclick="createSessionCookie()">åˆ›å»ºä¼šè¯Cookie</button>
                <button onclick="createPersistentCookie()">åˆ›å»ºæŒä¹…Cookie</button>
                <button onclick="createSecureCookie()">åˆ›å»ºå®‰å…¨Cookie</button>
                <button onclick="createHttpOnlyCookie()">åˆ›å»ºHttpOnly Cookie</button>
                <button onclick="createBatchCookies()" class="success">æ‰¹é‡åˆ›å»ºæµ‹è¯•Cookies</button>
            </div>
            <div id="createStatus" class="status info" style="display:none;"></div>
        </div>

        <div class="test-section">
            <h2>2. æŸ¥çœ‹å½“å‰Cookies</h2>
            <button onclick="displayAllCookies()">æ˜¾ç¤ºæ‰€æœ‰Cookies</button>
            <div id="cookieDisplay" class="cookie-display"></div>
        </div>

        <div class="test-section">
            <h2>3. è‡ªå®šä¹‰Cookieåˆ›å»º</h2>
            <div class="form-group">
                <label>åç§°ï¼š</label>
                <input type="text" id="cookieName" placeholder="ä¾‹å¦‚: my_cookie" value="test_cookie">
            </div>
            <div class="form-group">
                <label>å€¼ï¼š</label>
                <input type="text" id="cookieValue" placeholder="ä¾‹å¦‚: my_value" value="test_value_123">
            </div>
            <div class="form-group">
                <label>åŸŸåï¼š</label>
                <input type="text" id="cookieDomain" placeholder="ç•™ç©ºä½¿ç”¨å½“å‰åŸŸå">
            </div>
            <div class="form-group">
                <label>è·¯å¾„ï¼š</label>
                <input type="text" id="cookiePath" placeholder="ä¾‹å¦‚: /" value="/">
            </div>
            <div class="form-group">
                <label>è¿‡æœŸæ—¶é—´ï¼ˆå¤©ï¼‰ï¼š</label>
                <input type="text" id="cookieExpires" placeholder="ç•™ç©ºä¸ºä¼šè¯Cookie" value="7">
            </div>
            <div class="checkbox-group">
                <label>
                    <input type="checkbox" id="cookieSecure">
                    Secure
                </label>
                <label>
                    <input type="checkbox" id="cookieHttpOnly">
                    HttpOnly (æ³¨æ„ï¼šJavaScriptæ— æ³•è¯»å–)
                </label>
            </div>
            <div class="form-group">
                <label>SameSiteï¼š</label>
                <select id="cookieSameSite">
                    <option value="">None</option>
                    <option value="Lax" selected>Lax</option>
                    <option value="Strict">Strict</option>
                </select>
            </div>
            <button onclick="createCustomCookie()" class="success">åˆ›å»ºè‡ªå®šä¹‰Cookie</button>
        </div>

        <div class="test-section">
            <h2>4. åˆ é™¤Cookies</h2>
            <div class="form-group">
                <label>Cookieåç§°ï¼š</label>
                <input type="text" id="deleteCookieName" placeholder="è¾“å…¥è¦åˆ é™¤çš„Cookieåç§°">
            </div>
            <div class="button-group">
                <button onclick="deleteCookie()" class="danger">åˆ é™¤æŒ‡å®šCookie</button>
                <button onclick="deleteAllCookies()" class="danger">åˆ é™¤æ‰€æœ‰Cookies</button>
            </div>
            <div id="deleteStatus" class="status error" style="display:none;"></div>
        </div>

        <div class="test-section">
            <h2>5. Cookieä¿®æ”¹æµ‹è¯•</h2>
            <div class="form-group">
                <label>Cookieåç§°ï¼š</label>
                <input type="text" id="modifyCookieName" placeholder="è¾“å…¥è¦ä¿®æ”¹çš„Cookieåç§°">
            </div>
            <div class="form-group">
                <label>æ–°å€¼ï¼š</label>
                <input type="text" id="modifyCookieValue" placeholder="è¾“å…¥æ–°çš„Cookieå€¼">
            </div>
            <button onclick="modifyCookie()">ä¿®æ”¹Cookieå€¼</button>
        </div>

        <div class="test-section">
            <h2>5. æ€§èƒ½æµ‹è¯•</h2>
            <p>åˆ›å»ºå¤§é‡Cookiesæµ‹è¯•ç®¡ç†å™¨æ€§èƒ½ï¼š</p>
            <div class="button-group">
                <button onclick="createManyCookies(10)">åˆ›å»º10ä¸ªCookies</button>
                <button onclick="createManyCookies(50)">åˆ›å»º50ä¸ªCookies</button>
                <button onclick="createManyCookies(100)" class="danger">åˆ›å»º100ä¸ªCookies</button>
                <button onclick="clearTestCookies()" class="danger">æ¸…ç†æµ‹è¯•Cookies</button>
            </div>
            <div id="performanceStatus" class="status info" style="display:none;"></div>
        </div>

        <div class="test-section">
            <h2>6. ç‰¹æ®Šåœºæ™¯æµ‹è¯•</h2>
            <div class="button-group">
                <button onclick="createSpecialCookies()">åˆ›å»ºç‰¹æ®Šå­—ç¬¦Cookie</button>
                <button onclick="createLongValueCookie()">åˆ›å»ºè¶…é•¿å€¼Cookie</button>
                <button onclick="createSubdomainCookie()">åˆ›å»ºå­åŸŸCookie</button>
                <button onclick="createExpiredCookie()">åˆ›å»ºè¿‡æœŸCookie</button>
                <button onclick="createFutureCookie()">åˆ›å»ºè¿œæœŸCookie</button>
            </div>
            <div id="specialStatus" class="status info" style="display:none;"></div>
        </div>

        <div class="test-section">
            <h2>7. CookieéªŒè¯æµ‹è¯•</h2>
            <div class="form-group">
                <label>è¦éªŒè¯çš„Cookieåç§°ï¼š</label>
                <input type="text" id="verifyCookieName" placeholder="è¾“å…¥Cookieåç§°" value="test_cookie">
            </div>
            <button onclick="verifyCookie()">éªŒè¯Cookieå­˜åœ¨æ€§</button>
            <button onclick="getCookieInfo()">è·å–Cookieè¯¦æƒ…</button>
            <div id="verifyResult" class="cookie-display" style="display:none;"></div>
        </div>

        <div class="test-section">
            <h2>8. å¯¼å…¥/å¯¼å‡ºæµ‹è¯•æ•°æ®</h2>
            <p>ä¸‹è½½æµ‹è¯•ç”¨çš„Cookie JSONæ–‡ä»¶ï¼š</p>
            <button onclick="generateTestJSON()" class="success">ç”Ÿæˆæµ‹è¯•JSONæ–‡ä»¶</button>
            <pre id="jsonOutput" class="cookie-display" style="display:none; max-height: 200px; overflow-y: auto;"></pre>
        </div>

        <div class="test-section">
            <h2>æµ‹è¯•è¯´æ˜</h2>
            <ul>
                <li>ä½¿ç”¨"æ‰“å¼€Cookieç®¡ç†å™¨"é“¾æ¥å¯ä»¥ç›´æ¥è®¿é—®Cookieç®¡ç†ç•Œé¢</li>
                <li>åœ¨Cookieç®¡ç†å™¨ä¸­å¯ä»¥æŸ¥çœ‹ã€æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å’Œå¯¼å…¥/å¯¼å‡ºCookies</li>
                <li>HttpOnlyçš„Cookieæ— æ³•é€šè¿‡JavaScriptè¯»å–ï¼Œä½†å¯ä»¥åœ¨Cookieç®¡ç†å™¨ä¸­æŸ¥çœ‹</li>
                <li>Secureçš„Cookieåªèƒ½åœ¨HTTPSè¿æ¥ä¸­ä¼ è¾“</li>
                <li>æµ‹è¯•å®Œæˆåï¼Œå¯ä»¥é€šè¿‡Cookieç®¡ç†å™¨å¯¼å‡ºæ‰€æœ‰Cookiesä¿å­˜ä¸ºJSONæ–‡ä»¶</li>
                <li>æ€§èƒ½æµ‹è¯•å¯ä»¥éªŒè¯ç®¡ç†å™¨å¤„ç†å¤§é‡Cookiesçš„èƒ½åŠ›</li>
                <li>ç‰¹æ®Šåœºæ™¯æµ‹è¯•å¯ä»¥éªŒè¯è¾¹ç•Œæ¡ä»¶å¤„ç†</li>
            </ul>
        </div>
    </div>

    <script>
        // åˆ›å»ºä¼šè¯Cookie
        function createSessionCookie() {
            document.cookie = `session_${Date.now()}=session_value_${Math.random().toString(36).substr(2, 9)}; path=/`;
            showStatus('createStatus', 'ä¼šè¯Cookieåˆ›å»ºæˆåŠŸï¼', 'success');
            displayAllCookies();
        }

        // åˆ›å»ºæŒä¹…Cookie
        function createPersistentCookie() {
            const date = new Date();
            date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000)); // 7å¤©
            document.cookie = `persistent_${Date.now()}=persistent_value_${Math.random().toString(36).substr(2, 9)}; expires=${date.toUTCString()}; path=/`;
            showStatus('createStatus', 'æŒä¹…Cookieåˆ›å»ºæˆåŠŸï¼ˆ7å¤©æœ‰æ•ˆæœŸï¼‰ï¼', 'success');
            displayAllCookies();
        }

        // åˆ›å»ºå®‰å…¨Cookie
        function createSecureCookie() {
            document.cookie = `secure_${Date.now()}=secure_value_${Math.random().toString(36).substr(2, 9)}; secure; path=/`;
            showStatus('createStatus', 'å®‰å…¨Cookieåˆ›å»ºæˆåŠŸï¼ˆä»…HTTPSï¼‰ï¼', 'success');
            displayAllCookies();
        }

        // åˆ›å»ºHttpOnly Cookieï¼ˆæ³¨æ„ï¼šJavaScriptæ— æ³•åˆ›å»ºçœŸæ­£çš„HttpOnly Cookieï¼‰
        function createHttpOnlyCookie() {
            showStatus('createStatus', 'æ³¨æ„ï¼šJavaScriptæ— æ³•åˆ›å»ºHttpOnly Cookieï¼Œè¯·ä½¿ç”¨Cookieç®¡ç†å™¨åˆ›å»ºï¼', 'error');
        }

        // æ‰¹é‡åˆ›å»ºæµ‹è¯•Cookies
        function createBatchCookies() {
            const cookies = [
                { name: 'user_id', value: 'user_' + Math.floor(Math.random() * 10000), days: 30 },
                { name: 'session_token', value: 'token_' + Math.random().toString(36).substr(2, 16), days: 0 },
                { name: 'preferences', value: JSON.stringify({theme: 'dark', lang: 'zh-CN'}), days: 365 },
                { name: 'last_visit', value: new Date().toISOString(), days: 7 },
                { name: 'analytics_id', value: 'ga_' + Math.random().toString(36).substr(2, 12), days: 90 }
            ];

            cookies.forEach(cookie => {
                if (cookie.days > 0) {
                    const date = new Date();
                    date.setTime(date.getTime() + (cookie.days * 24 * 60 * 60 * 1000));
                    document.cookie = `${cookie.name}=${cookie.value}; expires=${date.toUTCString()}; path=/`;
                } else {
                    document.cookie = `${cookie.name}=${cookie.value}; path=/`;
                }
            });

            showStatus('createStatus', `æˆåŠŸåˆ›å»º ${cookies.length} ä¸ªæµ‹è¯•Cookiesï¼`, 'success');
            displayAllCookies();
        }

        // åˆ›å»ºè‡ªå®šä¹‰Cookie
        function createCustomCookie() {
            const name = document.getElementById('cookieName').value;
            const value = document.getElementById('cookieValue').value;
            const domain = document.getElementById('cookieDomain').value;
            const path = document.getElementById('cookiePath').value || '/';
            const expires = document.getElementById('cookieExpires').value;
            const secure = document.getElementById('cookieSecure').checked;
            const sameSite = document.getElementById('cookieSameSite').value;

            if (!name || !value) {
                showStatus('createStatus', 'è¯·è¾“å…¥Cookieåç§°å’Œå€¼ï¼', 'error');
                return;
            }

            let cookieString = `${name}=${value}`;
            
            if (domain) {
                cookieString += `; domain=${domain}`;
            }
            
            cookieString += `; path=${path}`;
            
            if (expires) {
                const date = new Date();
                date.setTime(date.getTime() + (parseInt(expires) * 24 * 60 * 60 * 1000));
                cookieString += `; expires=${date.toUTCString()}`;
            }
            
            if (secure) {
                cookieString += '; secure';
            }
            
            if (sameSite) {
                cookieString += `; SameSite=${sameSite}`;
            }

            document.cookie = cookieString;
            showStatus('createStatus', `è‡ªå®šä¹‰Cookie "${name}" åˆ›å»ºæˆåŠŸï¼`, 'success');
            displayAllCookies();
        }

        // æ˜¾ç¤ºæ‰€æœ‰Cookies
        function displayAllCookies() {
            const cookies = document.cookie.split(';');
            const display = document.getElementById('cookieDisplay');
            
            if (cookies.length === 0 || (cookies.length === 1 && cookies[0] === '')) {
                display.innerHTML = '<div class="status info">å½“å‰æ²¡æœ‰Cookies</div>';
                return;
            }
            
            let html = '<h3>å½“å‰Cookiesï¼ˆ' + cookies.length + 'ä¸ªï¼‰ï¼š</h3>';
            
            cookies.forEach(cookie => {
                if (cookie.trim()) {
                    const [name, value] = cookie.trim().split('=');
                    html += `
                        <div class="cookie-item">
                            <span class="cookie-name">${name}:</span>
                            <span class="cookie-value">${value || '(ç©ºå€¼)'}</span>
                        </div>
                    `;
                }
            });
            
            display.innerHTML = html;
        }

        // åˆ é™¤æŒ‡å®šCookie
        function deleteCookie() {
            const name = document.getElementById('deleteCookieName').value;
            
            if (!name) {
                showStatus('deleteStatus', 'è¯·è¾“å…¥è¦åˆ é™¤çš„Cookieåç§°ï¼', 'error');
                return;
            }
            
            // åˆ é™¤Cookieçš„æ–¹æ³•æ˜¯è®¾ç½®è¿‡æœŸæ—¶é—´ä¸ºè¿‡å»
            document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`;
            showStatus('deleteStatus', `Cookie "${name}" å·²åˆ é™¤ï¼`, 'success');
            displayAllCookies();
        }

        // åˆ é™¤æ‰€æœ‰Cookies
        function deleteAllCookies() {
            const cookies = document.cookie.split(';');
            
            cookies.forEach(cookie => {
                if (cookie.trim()) {
                    const name = cookie.trim().split('=')[0];
                    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`;
                }
            });
            
            showStatus('deleteStatus', 'æ‰€æœ‰Cookieså·²åˆ é™¤ï¼', 'success');
            displayAllCookies();
        }

        // ä¿®æ”¹Cookie
        function modifyCookie() {
            const name = document.getElementById('modifyCookieName').value;
            const value = document.getElementById('modifyCookieValue').value;
            
            if (!name || !value) {
                alert('è¯·è¾“å…¥Cookieåç§°å’Œæ–°å€¼ï¼');
                return;
            }
            
            // é‡æ–°è®¾ç½®Cookieï¼ˆä¼šè¦†ç›–åŸæœ‰çš„ï¼‰
            document.cookie = `${name}=${value}; path=/`;
            showStatus('createStatus', `Cookie "${name}" å·²ä¿®æ”¹ï¼`, 'success');
            displayAllCookies();
        }

        // æ˜¾ç¤ºçŠ¶æ€æ¶ˆæ¯
        function showStatus(elementId, message, type) {
            const statusElement = document.getElementById(elementId);
            statusElement.textContent = message;
            statusElement.className = `status ${type}`;
            statusElement.style.display = 'block';
            
            setTimeout(() => {
                statusElement.style.display = 'none';
            }, 5000);
        }
        // åˆ›å»ºå¤šä¸ªæµ‹è¯•Cookiesï¼ˆæ€§èƒ½æµ‹è¯•ï¼‰
        function createManyCookies(count) {
            const startTime = performance.now();
            
            for (let i = 0; i < count; i++) {
                const date = new Date();
                date.setTime(date.getTime() + (30 * 24 * 60 * 60 * 1000)); // 30å¤©
                document.cookie = `perf_test_${i}=value_${Math.random().toString(36).substr(2, 9)}; expires=${date.toUTCString()}; path=/`;
            }
            
            const endTime = performance.now();
            const timeTaken = (endTime - startTime).toFixed(2);
            
            showStatus('performanceStatus', `æˆåŠŸåˆ›å»º ${count} ä¸ªæµ‹è¯•Cookiesï¼Œè€—æ—¶ ${timeTaken} æ¯«ç§’`, 'success');
            displayAllCookies();
        }

        // æ¸…ç†æµ‹è¯•Cookies
        function clearTestCookies() {
            const cookies = document.cookie.split(';');
            let count = 0;
            
            cookies.forEach(cookie => {
                if (cookie.trim()) {
                    const name = cookie.trim().split('=')[0];
                    if (name.startsWith('perf_test_') || name.startsWith('test_') || name.startsWith('special_')) {
                        document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`;
                        count++;
                    }
                }
            });
            
            showStatus('performanceStatus', `æ¸…ç†äº† ${count} ä¸ªæµ‹è¯•Cookies`, 'success');
            displayAllCookies();
        }

        // åˆ›å»ºç‰¹æ®Šå­—ç¬¦Cookie
        function createSpecialCookies() {
            const specialValues = [
                { name: 'special_chinese', value: 'ä¸­æ–‡æµ‹è¯•å€¼_æµ‹è¯•' },
                { name: 'special_emoji', value: 'ğŸ˜€ğŸ‰ğŸš€' },
                { name: 'special_symbols', value: '!@#$%^&*()_+-=[]{}|;:,.<>?' },
                { name: 'special_encoded', value: encodeURIComponent('spaces and ç‰¹æ®Šå­—ç¬¦') }
            ];
            
            specialValues.forEach(item => {
                const date = new Date();
                date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));
                document.cookie = `${item.name}=${item.value}; expires=${date.toUTCString()}; path=/`;
            });
            
            showStatus('specialStatus', 'åˆ›å»ºäº†4ä¸ªç‰¹æ®Šå­—ç¬¦æµ‹è¯•Cookies', 'success');
            displayAllCookies();
        }

        // åˆ›å»ºè¶…é•¿å€¼Cookie
        function createLongValueCookie() {
            const longValue = 'a'.repeat(2048); // 2KBçš„å€¼
            const date = new Date();
            date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));
            
            try {
                document.cookie = `long_value_cookie=${longValue}; expires=${date.toUTCString()}; path=/`;
                showStatus('specialStatus', 'åˆ›å»ºäº†è¶…é•¿å€¼Cookieï¼ˆ2KBï¼‰', 'success');
            } catch (e) {
                showStatus('specialStatus', 'åˆ›å»ºè¶…é•¿å€¼Cookieå¤±è´¥ï¼š' + e.message, 'error');
            }
            displayAllCookies();
        }

        // åˆ›å»ºå­åŸŸCookie
        function createSubdomainCookie() {
            const domain = window.location.hostname;
            const date = new Date();
            date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));
            
            // å°è¯•ä¸ºå½“å‰åŸŸå’Œçˆ¶åŸŸåˆ›å»ºCookie
            document.cookie = `subdomain_test=for_current_domain; expires=${date.toUTCString()}; path=/; domain=${domain}`;
            
            // å¦‚æœæ˜¯å­åŸŸåï¼Œå°è¯•ä¸ºçˆ¶åŸŸåˆ›å»º
            if (domain.split('.').length > 2) {
                const parentDomain = '.' + domain.split('.').slice(-2).join('.');
                document.cookie = `subdomain_test_parent=for_parent_domain; expires=${date.toUTCString()}; path=/; domain=${parentDomain}`;
                showStatus('specialStatus', `åˆ›å»ºäº†å­åŸŸCookieï¼Œå½“å‰åŸŸï¼š${domain}ï¼Œçˆ¶åŸŸï¼š${parentDomain}`, 'success');
            } else {
                showStatus('specialStatus', `åˆ›å»ºäº†å½“å‰åŸŸCookieï¼š${domain}`, 'success');
            }
            displayAllCookies();
        }

        // åˆ›å»ºè¿‡æœŸCookie
        function createExpiredCookie() {
            // åˆ›å»ºä¸€ä¸ªå·²è¿‡æœŸçš„Cookieï¼ˆåº”è¯¥ç«‹å³è¢«åˆ é™¤ï¼‰
            document.cookie = `expired_cookie=should_be_deleted; expires=Thu, 01 Jan 2020 00:00:00 UTC; path=/`;
            showStatus('specialStatus', 'åˆ›å»ºäº†è¿‡æœŸCookieï¼ˆåº”è¯¥ä¸ä¼šæ˜¾ç¤ºï¼‰', 'info');
            setTimeout(displayAllCookies, 100);
        }

        // åˆ›å»ºè¿œæœŸCookie
        function createFutureCookie() {
            const date = new Date();
            date.setFullYear(date.getFullYear() + 10); // 10å¹´å
            document.cookie = `future_cookie=valid_for_10_years; expires=${date.toUTCString()}; path=/`;
            showStatus('specialStatus', `åˆ›å»ºäº†è¿œæœŸCookieï¼Œè¿‡æœŸæ—¶é—´ï¼š${date.toLocaleDateString()}`, 'success');
            displayAllCookies();
        }

        // éªŒè¯Cookieå­˜åœ¨æ€§
        function verifyCookie() {
            const cookieName = document.getElementById('verifyCookieName').value;
            
            if (!cookieName) {
                showVerifyResult('è¯·è¾“å…¥Cookieåç§°', 'error');
                return;
            }
            
            const cookies = document.cookie.split(';');
            let found = false;
            let cookieValue = '';
            
            for (const cookie of cookies) {
                const [name, value] = cookie.trim().split('=');
                if (name === cookieName) {
                    found = true;
                    cookieValue = value;
                    break;
                }
            }
            
            if (found) {
                showVerifyResult(`âœ… Cookie "${cookieName}" å­˜åœ¨\nå€¼ï¼š${cookieValue}`, 'success');
            } else {
                showVerifyResult(`âŒ Cookie "${cookieName}" ä¸å­˜åœ¨`, 'error');
            }
        }

        // è·å–Cookieè¯¦æƒ…
        function getCookieInfo() {
            const cookieName = document.getElementById('verifyCookieName').value;
            
            if (!cookieName) {
                showVerifyResult('è¯·è¾“å…¥Cookieåç§°', 'error');
                return;
            }
            
            const cookies = document.cookie.split(';');
            let found = false;
            let info = '';
            
            for (const cookie of cookies) {
                const [name, value] = cookie.trim().split('=');
                if (name === cookieName) {
                    found = true;
                    info = `
                        <h4>Cookieè¯¦æƒ…ï¼š${cookieName}</h4>
                        <ul>
                            <li><strong>åç§°ï¼š</strong>${name}</li>
                            <li><strong>å€¼ï¼š</strong>${value || '(ç©ºå€¼)'}</li>
                            <li><strong>é•¿åº¦ï¼š</strong>${(value || '').length} å­—èŠ‚</li>
                            <li><strong>ç¼–ç å€¼ï¼š</strong>${encodeURIComponent(value || '')}</li>
                            <li><strong>è§£ç å€¼ï¼š</strong>${decodeURIComponent(value || '')}</li>
                        </ul>
                        <p><em>æ³¨æ„ï¼šJavaScriptæ— æ³•è·å–HttpOnlyã€Secureã€SameSiteç­‰å±æ€§</em></p>
                    `;
                    break;
                }
            }
            
            if (found) {
                showVerifyResult(info, 'info');
            } else {
                showVerifyResult(`Cookie "${cookieName}" ä¸å­˜åœ¨`, 'error');
            }
        }

        // æ˜¾ç¤ºéªŒè¯ç»“æœ
        function showVerifyResult(message, type) {
            const resultDiv = document.getElementById('verifyResult');
            resultDiv.innerHTML = message;
            resultDiv.className = `cookie-display ${type}`;
            resultDiv.style.display = 'block';
        }

        // ç”Ÿæˆæµ‹è¯•JSONæ–‡ä»¶
        function generateTestJSON() {
            const testCookies = [
                {
                    "Domain": window.location.hostname || "localhost",
                    "Name": "test_session",
                    "Value": "session_value_123",
                    "Path": "/",
                    "Expires": null,
                    "HttpOnly": false,
                    "Secure": false,
                    "SameSite": "Lax"
                },
                {
                    "Domain": window.location.hostname || "localhost",
                    "Name": "test_persistent",
                    "Value": "persistent_value_456",
                    "Path": "/",
                    "Expires": new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),
                    "HttpOnly": true,
                    "Secure": true,
                    "SameSite": "Strict"
                },
                {
                    "Domain": window.location.hostname || "localhost",
                    "Name": "test_analytics",
                    "Value": "ga_" + Math.random().toString(36).substr(2, 12),
                    "Path": "/",
                    "Expires": new Date(Date.now() + 365 * 24 * 60 * 60 * 1000).toISOString(),
                    "HttpOnly": false,
                    "Secure": false,
                    "SameSite": "None"
                },
                {
                    "Domain": window.location.hostname || "localhost",
                    "Name": "test_preferences",
                    "Value": JSON.stringify({theme: "dark", lang: "zh-CN"}),
                    "Path": "/",
                    "Expires": new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString(),
                    "HttpOnly": false,
                    "Secure": false,
                    "SameSite": "Lax"
                },
                {
                    "Domain": window.location.hostname || "localhost",
                    "Name": "test_special_chars",
                    "Value": "ä¸­æ–‡_emoji_ğŸ˜€_symbols_!@#$%",
                    "Path": "/test",
                    "Expires": new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),
                    "HttpOnly": false,
                    "Secure": true,
                    "SameSite": "Strict"
                }
            ];
            
            const jsonString = JSON.stringify(testCookies, null, 2);
            
            // æ˜¾ç¤ºJSON
            const outputDiv = document.getElementById('jsonOutput');
            outputDiv.textContent = jsonString;
            outputDiv.style.display = 'block';
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'test_cookies.json';
            a.click();
            URL.revokeObjectURL(url);
            
            showStatus('specialStatus', 'æµ‹è¯•JSONæ–‡ä»¶å·²ç”Ÿæˆå¹¶ä¸‹è½½', 'success');
        }

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºå½“å‰Cookies
        window.onload = function() {
            displayAllCookies();
        };
    </script>
</body>
</html>